(function(t){function a(a){for(var r,o,d=a[0],n=a[1],c=a[2],l=0,u=[];l<d.length;l++)o=d[l],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&u.push(s[o][0]),s[o]=0;for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);p&&p(a);while(u.length)u.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],r=!0,o=1;o<e.length;o++){var d=e[o];0!==s[d]&&(r=!1)}r&&(i.splice(a--,1),t=n(n.s=e[0]))}return t}var r={},o={app:0},s={app:0},i=[];function d(t){return n.p+"js/"+({about:"about"}[t]||t)+"."+{about:"18665b97"}[t]+".js"}function n(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.e=function(t){var a=[],e={about:1};o[t]?a.push(o[t]):0!==o[t]&&e[t]&&a.push(o[t]=new Promise((function(a,e){for(var r="css/"+({about:"about"}[t]||t)+"."+{about:"ae05b752"}[t]+".css",s=n.p+r,i=document.getElementsByTagName("link"),d=0;d<i.length;d++){var c=i[d],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===s))return a()}var u=document.getElementsByTagName("style");for(d=0;d<u.length;d++){c=u[d],l=c.getAttribute("data-href");if(l===r||l===s)return a()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=a,p.onerror=function(a){var r=a&&a.target&&a.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[t],p.parentNode.removeChild(p),e(i)},p.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){o[t]=0})));var r=s[t];if(0!==r)if(r)a.push(r[2]);else{var i=new Promise((function(a,e){r=s[t]=[a,e]}));a.push(r[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=d(t);var u=new Error;c=function(a){l.onerror=l.onload=null,clearTimeout(p);var e=s[t];if(0!==e){if(e){var r=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,e[1](u)}s[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(a)},n.m=t,n.c=r,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)n.d(e,r,function(a){return t[a]}.bind(null,r));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/",n.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=a,c=c.slice();for(var u=0;u<c.length;u++)a(c[u]);var p=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"011a":function(t,a,e){t.exports=e.p+"img/brr0449.47d27927.jpeg"},"034f":function(t,a,e){"use strict";e("9085")},"08ea":function(t,a,e){t.exports=e.p+"img/kampung.2d017a08.jpeg"},"12a1":function(t,a,e){"use strict";e("4afc")},1579:function(t,a,e){"use strict";e("1d5a")},"1d5a":function(t,a,e){},"1faf":function(t,a,e){},"240b":function(t,a,e){t.exports=e.p+"img/parting.51020dd8.jpeg"},"3dcb":function(t,a,e){"use strict";e("f4af")},"3dfd":function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{attrs:{id:"app"}},[r("Navigation"),r("div",{staticClass:"container"},[r("router-view")],1),this.$root.loading?r("div",{staticClass:"loading-container w-100"},[r("div",{staticClass:"animate__animated animate__bounce infinite animate__infinite"},[r("img",{staticClass:"img-fluid img-loading",attrs:{src:e("cf05"),alt:"Loading"}})])]):t._e()],1)},o=[],s=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light p-4"},[r("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[r("img",{staticClass:"img-fluid",attrs:{src:e("3e12")}})]),t._m(0),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[r("ul",{staticClass:"navbar-nav mr-auto w-100"}),r("div",{staticClass:"text-left d-flex"},[r("a",{staticClass:"btn btn-default",attrs:{href:"javascript:void(0)"},on:{click:t.logout}},[t._v(" logout ")])])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],d=e("bc3a"),n=e.n(d),c={name:"navigation",methods:{logout:function(){n.a.post("".concat("https://api-pos.beliayam.com/admin","/logout"),{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt-admin")),Accept:"application/json","Content-Type":"application/json"}}).then((function(t){t.data.success&&(localStorage.removeItem("jwt-admin",""),window.location.href="/login")}))}}},l=c,u=(e("f0a3"),e("2877")),p=Object(u["a"])(l,s,i,!1,null,"f4df61c6",null),m=p.exports,f=e("1157"),v=e.n(f),g={name:"App",components:{Navigation:m},created:function(){v()((function(){v()('[data-toggle="tooltip"]').tooltip()}))}},h=g,b=(e("034f"),Object(u["a"])(h,r,o,!1,null,null,null));a["a"]=b.exports},"3e12":function(t,a,e){t.exports=e.p+"img/logo_admin_navigasi.6a7c7dd4.png"},4360:function(t,a,e){"use strict";var r=e("2b0e"),o=e("2f62");r["a"].use(o["a"]),a["a"]=new o["a"].Store({state:{},mutations:{},actions:{},modules:{}})},4678:function(t,a,e){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var a=s(t);return e(a)}function s(t){if(!e.o(r,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=s,t.exports=o,o.id="4678"},"4afc":function(t,a,e){},5527:function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a),function(t){e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),r=e("3dfd"),o=e("4360"),s=e("a18c"),i=e("bc3a"),d=e.n(i),n=e("1157"),c=e.n(n),l=(e("4989"),e("ab8b"),e("7400")),u=e.n(l),p=e("58ca"),m=e("d1d6"),f=e.n(m),v=e("50cf"),g=e("5527"),h=e.n(g),b=e("77ed"),_=e.n(b);a["a"].prototype.$http=d.a,t=c.a,window.$=t,a["a"].use(u.a),a["a"].use(f.a),a["a"].use(p["a"],{refreshOnceOnNavigation:!0}),a["a"].use(v["a"]),a["a"].use(h.a),a["a"].use(_.a),a["a"].config.productionTip=!1,new a["a"]({store:o["a"],router:s["a"],data:{loading:!1},render:function(t){return t(r["a"])}}).$mount("#app")}.call(this,e("1157"))},6035:function(t,a,e){t.exports=e.p+"img/default.542b39ab.jpg"},"67cf":function(t,a,e){"use strict";e("9b37")},"6c17":function(t,a,e){t.exports=e.p+"img/default.51020dd8.jpeg"},7606:function(t,a,e){var r={"./broiler.jpeg":"8185","./brr0449.jpeg":"011a","./kampung.jpeg":"08ea","./merah.jpeg":"a992","./parting.jpeg":"240b","./pejantan.jpeg":"b01e"};function o(t){var a=s(t);return e(a)}function s(t){if(!e.o(r,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=s,t.exports=o,o.id="7606"},8185:function(t,a,e){t.exports=e.p+"img/broiler.499f39cd.jpeg"},"8be8":function(t,a,e){},9085:function(t,a,e){},"9b37":function(t,a,e){},a18c:function(t,a,e){"use strict";e("d3b7"),e("3ca3"),e("ddb0"),e("b0c0");var r=e("2b0e"),o=e("8c4f"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("div",{staticClass:"table-responsive overflow-hidden"},[e("div",{staticClass:"row d-flex"},t._l(t.databases,(function(a,r){return e("div",{key:r,staticClass:"col-md-3 card",staticStyle:{width:"18rem"}},[e("a",{staticClass:"text-decoration-none text-dark",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.getSessionId(a["id"])}}},[e("img",{staticClass:"card-img-top",style:"backgroundColor: #"+a["bgColor"],attrs:{src:a["logoUrl"],alt:"..."}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(a["alias"]))]),e("small",[t._v("Kadaluarsa: "+t._s(a["expired"]?"Ya":"Tidak"))]),e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0)"}},[t._v("Buka Database")])])])])})),0)])])},i=[],d=(e("99af"),e("d81d"),{name:"Home",components:{},data:function(){return{databases:[]}},methods:{getUsers:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/db-lists"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(console.log(a["data"]["data"]["s"]),t.databases=a["data"]["data"]["d"])})).catch((function(a){console.log(a.response),t.$alertify.error(a.response["data"]["data"]["d"])}))},getSessionId:function(t){var a=this;return this.$http.post("".concat("https://api-pos.beliayam.com/admin","/set-database-session/").concat(t),{},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){t["data"]["data"]["s"]&&t["data"]["data"]["d"].map((function(t){a.$alertify.success(t)})),a.$router.push({path:"/database/user-lists"})})).catch((function(t){a.$alertify.error(t.response["data"]["data"]["d"])}))}},filters:{isActive:function(t){return 1===t||!0===t?"Aktif":"Non-Aktif"}},created:function(){this.getUsers()}}),n=d,c=e("2877"),l=Object(c["a"])(n,s,i,!1,null,null,null),u=l.exports,p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"m-auto"},[e("router-link",{staticClass:"btn btn-warning mr-1",attrs:{to:{name:"UserAdd"},id:"btn-update-mass-price","data-toggle":"tooltip","data-placement":"bottom",title:"Buat Mitra Baru"}},[e("i",{staticClass:"fad fa-usd-circle"}),t._v(" tambah mitra ")]),e("router-link",{staticClass:"text-decoration-none btn btn-dark mr-1",attrs:{to:{name:"category"},"data-toggle":"tooltip","data-placement":"bottom",title:"Pengaturan Produk"}},[e("i",{staticClass:"fad fa-box-usd"}),t._v(" Pengaturan Produk ")])],1)])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-borderless table-hover"},[t._m(1),e("tbody",t._l(t.users,(function(a){return e("tr",{key:a.id,staticClass:"text-nowrap"},[e("td",[t._v(" "+t._s(a["id"])+" ")]),e("td",[t._v(" "+t._s(a["name"])+" ")]),e("td",[t._v(" "+t._s(a["branch_name"])+" ")]),e("td",[t._v(" "+t._s(a["warehouse_name"])+" ")]),e("td",[e("div",{staticClass:"custom-control custom-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["is_active"],expression:"user['is_active']"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"switchActive-"+a["id"]},domProps:{checked:Array.isArray(a["is_active"])?t._i(a["is_active"],null)>-1:a["is_active"]},on:{click:function(e){return t.updateStatusUser(a["id"])},change:function(e){var r=a["is_active"],o=e.target,s=!!o.checked;if(Array.isArray(r)){var i=null,d=t._i(r,i);o.checked?d<0&&t.$set(a,"is_active",r.concat([i])):d>-1&&t.$set(a,"is_active",r.slice(0,d).concat(r.slice(d+1)))}else t.$set(a,"is_active",s)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"switchActive-"+a["id"]}},[t._v(t._s(t._f("isActive")(a["is_active"])))])])]),e("td",[e("div",{staticClass:"custom-control custom-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["is_default"],expression:"user['is_default']"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"switchDefault-"+a["id"]},domProps:{checked:Array.isArray(a["is_default"])?t._i(a["is_default"],null)>-1:a["is_default"]},on:{click:function(e){return t.updateDefaultUser(a)},change:function(e){var r=a["is_default"],o=e.target,s=!!o.checked;if(Array.isArray(r)){var i=null,d=t._i(r,i);o.checked?d<0&&t.$set(a,"is_default",r.concat([i])):d>-1&&t.$set(a,"is_default",r.slice(0,d).concat(r.slice(d+1)))}else t.$set(a,"is_default",s)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"switchDefault-"+a["id"]}},[t._v(t._s(t._f("isDefault")(a["is_default"])))])])]),e("td",[e("div",{staticClass:"custom-control custom-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["is_admin"],expression:"user['is_admin']"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"switch-"+a["id"]},domProps:{checked:Array.isArray(a["is_admin"])?t._i(a["is_admin"],null)>-1:a["is_admin"]},on:{click:function(e){return t.updateStatusAdmin(a["id"])},change:function(e){var r=a["is_admin"],o=e.target,s=!!o.checked;if(Array.isArray(r)){var i=null,d=t._i(r,i);o.checked?d<0&&t.$set(a,"is_admin",r.concat([i])):d>-1&&t.$set(a,"is_admin",r.slice(0,d).concat(r.slice(d+1)))}else t.$set(a,"is_admin",s)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"switch-"+a["id"]}},[t._v(t._s(t._f("isActive")(a["is_admin"])))])])]),e("td",[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Edit ")]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.editUser(a["id"])}}},[t._v("Ubah Mitra")]),e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.deleteUser(a["id"])}}},[t._v("Hapus Mitra")]),e("div",{staticClass:"dropdown-divider"}),e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.editPassword(a["id"])}}},[t._v("Ubah Password")])])])]),e("td",[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Lainnya ")]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"offer",params:{userId:a["id"]}}}},[t._v("Penawaran")]),e("div",{staticClass:"dropdown-divider"}),e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"promo",params:{userId:a["id"]}}}},[t._v("Promo")]),e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"push",params:{userId:a["id"]}}}},[t._v("Notifikasi (Uji Coba)")])],1)])])])})),0)])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-remove-user",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(2),t._m(3),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.removeUser()}}},[t._v(" Ya, saya mengerti ")])])])])]),t._m(4)])},m=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("header",{staticClass:"text-center"},[e("h3",[t._v("Konfigurasi Admin")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"text-nowrap"},[e("th",[t._v("ID")]),e("th",[t._v("Nama")]),e("th",[t._v("Cabang")]),e("th",[t._v("Gudang")]),e("th",[t._v("Status Aktif")]),e("th",[t._v("Pusat")]),e("th",[t._v("Admin")]),e("th",[t._v("Ubah Detail")]),e("th",[t._v("Produk Pilihan")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Hapus Mitra")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-body"},[e("p",[t._v(" Menghapus mitra sama saja menghapus seluruh data terkait mitra tersebut. "),e("br"),t._v(" Yakin Ingin Menghapusnya ? ")]),e("small",[e("i",{staticClass:"fad fa-info-circle"}),t._v(" Data pada accurate tidak akan terhapus")]),e("br"),e("small",[e("i",{staticClass:"fad fa-info-circle"}),t._v(" Sekali terhapus, data tidak dapat dikembalikan")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"modal-edit-password",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-warning"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Ubah Password")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[t._v("...")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-warning",attrs:{type:"button"}},[t._v(" update password ")])])])])])}],f=(e("4de4"),e("1157")),v=e.n(f),g={name:"Users",components:{},data:function(){return{users:[],selectedUser:{user:{data:"",error:!1,errorMessage:"",additionalData:[]},password:{data:"",error:!1,errorMessage:"",additionalData:[]}}}},methods:{editPassword:function(t){this.selectedUser["user"]["data"]=t,v()("#modal-edit-password").modal("show")},deleteUser:function(t){this.selectedUser["user"]["data"]=t,v()("#modal-remove-user").modal("show")},removeUser:function(){var t=this;return this.$http.delete("".concat("https://api-pos.beliayam.com/admin","/user/").concat(this.selectedUser["user"]["data"]),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.$alertify.success("Mitra Berhasil Dihapus"),t.getUsers(),v()("#modal-remove-user").modal("hide"))})).catch((function(a){console.log(a.response),t.$alertify.error(a.response["data"]["message"])}))},sync:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/sync"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){console.log(t)})).catch((function(a){console.log(a.response),t.$alertify.error(a.response["data"]["message"])}))},getUsers:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/users"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.users=a["data"]["data"])})).catch((function(a){console.log(a.response),t.$alertify.error(a.response["data"]["message"])}))},editUser:function(t){this.$router.push({path:"/user/edit/".concat(t)})},updateStatusUser:function(t){var a=this,e=this.users.filter((function(a){return a["id"]===t}));return this.$http.put("".concat("https://api-pos.beliayam.com/admin","/users/active"),{user_id:t,is_active:!e[0]["is_active"],is_admin:!e[0]["is_admin"]},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){console.log(t),t["data"]["success"]&&a.$alertify.success(t["data"]["message"])})).catch((function(t){console.log(t.response),a.$alertify.error(t.response["data"]["message"])}))},updateDefaultUser:function(t){var a=this,e=this.users.filter((function(a){return a["id"]===t["id"]}));return 1===this.users.length&&0!==e[0]["is_default"]?(this.$alertify.warning("Harus ada 1 mitra default"),void this.getUsers()):this.$http.put("".concat("https://api-pos.beliayam.com/admin","/users/default"),{user_id:t["id"],is_default:!e[0]["is_default"]},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){t["data"]["success"]&&(a.getUsers(),a.$alertify.success(t["data"]["message"]))})).catch((function(t){a.$alertify.error(t.response["data"]["message"])}))},updateStatusAdmin:function(t){var a=this,e=this.users.filter((function(a){return a["id"]===t}));return this.$http.put("".concat("https://api-pos.beliayam.com/admin","/users/admin"),{user_id:t,is_admin:!e[0]["is_admin"]},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){t["data"]["success"]&&a.$alertify.success(t["data"]["message"])})).catch((function(t){a.$alertify.error(t.response["data"]["message"])}))}},filters:{isActive:function(t){return 1===t||!0===t?"Aktif":"Non-Aktif"},isDefault:function(t){return 1===t||!0===t?"Pusat":"Bukan Pusat"}},created:function(){this.getUsers()}},h=g,b=(e("1579"),Object(c["a"])(h,p,m,!1,null,"0c15172a",null)),_=b.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.products?e("header",{staticClass:"card-header header-category"},[e("h2",{staticClass:"headline"},[t._v("Pengaturan Produk")]),t._m(0)]):t._e(),e("div",{staticClass:"row mt-5"},t._l(t.products,(function(a,r){return e("div",{key:r,staticClass:"col-md-3 col-sm-4 resource-container"},[e("div",{staticClass:"card card-container"},[e("div",{staticClass:"text-center"},[e("img",{staticClass:"card-img-top",attrs:{src:t.getImage(a["no"]),alt:"Gambar Ayam"},on:{click:function(e){return t.openModalProduct(a["id"])}}}),e("div",{staticClass:"p-2 justify-content-around"},[e("span",{staticClass:"m-1 toolbar-item",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Ubah Produk"},on:{click:function(e){return t.openModalProduct(a["id"])}}},[e("i",{staticClass:"fad fa-edit"})]),e("span",{staticClass:"m-1 text-danger toolbar-item",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Hapus Produk"},on:{click:function(e){return t.openModalRemoveProduct(a["id"])}}},[e("i",{staticClass:"fad fa-trash"})])])]),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title card-title-product"},[t._v(t._s(a["name"]))]),e("span"),e("p",[t._v("Harga dasar")]),e("h6",{staticClass:"price",on:{dblclick:function(e){return t.editPriceLabel(e,a["id"])}}},[t._v(" "+t._s(t._f("formatMoney")(a["basic_price"]))+" ")]),e("p",[t._v("Komisi Pusat")]),e("h6",{staticClass:"price",on:{dblclick:function(e){return t.editPriceLabel(e,a["id"])}}},[t._v(" "+t._s(t._f("formatMoney")(a["centralCommission"]))+" ")]),e("p",[t._v("Komisi Mitra")]),e("h6",{staticClass:"price",on:{dblclick:function(e){return t.editPriceLabel(e,a["id"])}}},[t._v(" "+t._s(t._f("formatMoney")(a["partnerCommission"]))+" ")]),e("p",[t._v("Total Harga")]),e("h6",{staticClass:"price",on:{dblclick:function(e){return t.editPriceLabel(e,a["id"])}}},[t._v(" "+t._s(t._f("formatMoney")(a["grand_price"]))+" ")])])])])})),0),e("div",{staticClass:"modal fade",attrs:{id:"modal-add-product",tabindex:"-1","aria-labelledby":"modal-add-productLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[t._m(1),e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("UPC / Barcode")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["code"]["data"],expression:"addProduct['code']['data']"}],staticClass:"form-control",class:{"is-invalid":t.addProduct["code"]["error"]},attrs:{type:"text",id:"code",placeholder:"cth: 0040001"},domProps:{value:t.addProduct["code"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.addProduct["code"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.addProduct["code"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("nama")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["name"]["data"],expression:"addProduct['name']['data']"}],staticClass:"form-control",class:{"is-invalid":t.addProduct["name"]["error"]},attrs:{type:"text",id:"name",placeholder:"Paha Utuh 500 gr"},domProps:{value:t.addProduct["name"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.addProduct["name"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.addProduct["name"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Tipe")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["type"]["data"],expression:"addProduct['type']['data']"}],staticClass:"form-control",class:{"is-invalid":t.addProduct["type"]["error"]},attrs:{name:"type",id:"type"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.addProduct["type"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Tipe Barang")]),t._l(t.addProduct["type"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.addProduct["type"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"category"}},[t._v("Kategori")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["category"]["data"],expression:"addProduct['category']['data']"}],staticClass:"form-control",class:{"is-invalid":t.addProduct["category"]["error"]},attrs:{name:"category",id:"category"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.addProduct["category"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Kategori Barang")]),t._l(t.addProduct["category"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a["id"]}},[t._v(" "+t._s(a["name"])+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.addProduct["category"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Unit")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["unit"]["data"],expression:"addProduct['unit']['data']"}],staticClass:"form-control",class:{"is-invalid":t.addProduct["unit"]["error"]},attrs:{name:"unit",id:"unit"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.addProduct["unit"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Unit Barang")]),t._l(t.addProduct["unit"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a["id"]}},[t._v(" "+t._s(a["name"])+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.addProduct["unit"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("Foto / Gambar")]),e("input",{ref:"image",staticClass:"form-control",attrs:{type:"file",id:"image"},on:{change:t.handleFileUpload}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveProduct}},[t._v(" simpan ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-product",tabindex:"-1","aria-labelledby":"modal-productLabel","aria-hidden":"true"}},[t.selectedProduct?e("div",{staticClass:"modal-dialog"},[e("header",{staticClass:"bg-info text-center p-2"},[e("h2",{staticClass:"text-white"},[t._v("Produk "+t._s(t.selectedProduct["name"]))])]),e("div",{staticClass:"modal-content"},[e("nav",[e("div",{staticClass:"nav nav-tabs",attrs:{id:"nav-tab",role:"tablist"}},[e("a",{staticClass:"nav-link active",attrs:{id:"nav-detail-tab","data-toggle":"tab",href:"#nav-detail",role:"tab","aria-controls":"nav-detail","aria-selected":"true"}},[t._v("Detail")]),e("a",{staticClass:"nav-link",attrs:{id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:t.openEditProduct}},[t._v("Edit")]),e("a",{staticClass:"nav-link",attrs:{id:"nav-stok-tab","data-toggle":"tab",href:"#nav-stok",role:"tab","aria-controls":"nav-stok","aria-selected":"false"}},[t._v("Stok")])])]),e("div",{staticClass:"tab-content",attrs:{id:"nav-tabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"nav-detail",role:"tabpanel","aria-labelledby":"nav-detail-tab"}},[e("div",{staticClass:"container-fluid"},[e("img",{staticClass:"img-fluid rounded w-100",attrs:{src:t.getImage(t.selectedProduct["no"]),alt:"Gambar Ayam"}}),e("h3",[t._v(t._s(t.selectedProduct["name"]))]),e("small",{staticClass:"badge badge-pill badge-success"},[t._v(t._s(t.selectedProduct["type"]))]),e("p",[t._v(t._s(t.selectedProduct["no"]))]),e("span",{staticClass:"badge badge-pill badge-secondary text-uppercase"},[t._v(t._s(t.selectedProduct["unit_name"]))]),e("div",[e("h4",[e("b",[t._v("Harga Dasar")]),t._v(" "+t._s(t._f("formatMoney")(t.selectedProduct["basic_price"]))+" ")]),e("h4",[e("b",[t._v("Komisi Pusat")]),t._v(" "+t._s(t._f("formatMoney")(t.selectedProduct["centralCommission"]))+" ")]),e("h4",[e("b",[t._v("Komisi Mitra")]),t._v(" "+t._s(t._f("formatMoney")(t.selectedProduct["partnerCommission"]))+" ")]),e("h4",[e("b",[t._v("Harga Jual")]),t._v(" "+t._s(t._f("formatMoney")(t.selectedProduct["grand_price"]))+" ")])])])]),e("div",{staticClass:"tab-pane fade",attrs:{id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("UPC / Barcode")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["code"]["data"],expression:"editProduct['code']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["code"]["error"]},attrs:{type:"text",id:"code",placeholder:"cth: 0040001",disabled:"disabled"},domProps:{value:t.editProduct["code"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.editProduct["code"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["code"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("nama")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["name"]["data"],expression:"editProduct['name']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["name"]["error"]},attrs:{type:"text",id:"name",placeholder:"Paha Utuh 500 gr"},domProps:{value:t.editProduct["name"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.editProduct["name"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["name"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Tipe")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["type"]["data"],expression:"editProduct['type']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["type"]["error"]},attrs:{name:"type",id:"type"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.editProduct["type"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Tipe Barang")]),t._l(t.editProduct["type"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["type"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"category"}},[t._v("Kategori")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["category"]["data"],expression:"editProduct['category']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["category"]["error"]},attrs:{name:"category",id:"category",disabled:"disabled"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.editProduct["category"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(" Kategori Barang ")]),t._l(t.editProduct["category"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a["id"]}},[t._v(" "+t._s(a["name"])+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["type"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Unit")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["unit"]["data"],expression:"editProduct['unit']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["unit"]["error"]},attrs:{name:"unit",id:"unit"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.editProduct["unit"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Unit Barang")]),t._l(t.editProduct["unit"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a["id"]}},[t._v(" "+t._s(a["name"])+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["type"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("harga dasar")]),e("div",{staticClass:"w-100 d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["price"]["data"],expression:"editProduct['price']['data']"}],staticClass:"form-control sync-price",class:{"is-invalid":t.editProduct["price"]["error"]},attrs:{type:"text",id:"price",placeholder:"20.000,00","data-toggle":"tooltip","data-placement":"bottom",title:"Sinkron Harga Dasar Dengan Accurate",readonly:""},domProps:{value:t.editProduct["price"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.editProduct["price"],"data",a.target.value)}}}),e("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Sinkron Harga Dasar Dengan Accurate"},on:{click:function(a){return t.syncPrice(t.selectedProduct["accurate_product_id"])}}},[e("i",{staticClass:"fad fa-sync-alt"})])]),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["price"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"centralCommission"}},[t._v("komisi pusat")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["centralCommission"]["data"],expression:"editProduct['centralCommission']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["centralCommission"]["error"]},attrs:{type:"text",id:"centralCommission",placeholder:"Rp 1.000,00"},domProps:{value:t.editProduct["centralCommission"]["data"]},on:{keyup:t.calculatePrice,input:function(a){a.target.composing||t.$set(t.editProduct["centralCommission"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["centralCommission"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"partnerCommission"}},[t._v("komisi mitra")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.editProduct["partnerCommission"]["data"],expression:"\n                        editProduct['partnerCommission']['data']\n                      ",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.editProduct["partnerCommission"]["error"]},attrs:{type:"text",id:"partnerCommission",placeholder:"0000"},domProps:{value:t.editProduct["partnerCommission"]["data"]},on:{keyup:t.calculatePrice,input:function(a){a.target.composing||t.$set(t.editProduct["partnerCommission"],"data",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["partnerCommission"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",[t._v(" Harga End-user ")]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",checked:"true",id:"round-price",disabled:Object.keys(t.editProduct["grand_price"]["data"]).length<0},on:{click:function(a){return t.roundPrice(a.target.checked,"update")}}}),e("small",{staticClass:"form-check-label",attrs:{for:"defaultCheck1"}},[t._v(" bulatkan harga ")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["grand_price"]["data"],expression:"editProduct['grand_price']['data']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"harga"},domProps:{value:t.editProduct["grand_price"]["data"]},on:{keypress:function(a){return t.isNumber(a)},input:function(a){a.target.composing||t.$set(t.editProduct["grand_price"],"data",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("Foto / Gambar")]),e("input",{ref:"imageUpdate",staticClass:"form-control",attrs:{type:"file",id:"image"},on:{change:t.handleFileUpdate}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v(" simpan ")])])])]),e("div",{staticClass:"tab-pane fade p-3",attrs:{id:"nav-stok",role:"tabpanel","aria-labelledby":"nav-stok-tab"}},[t._l(t.selectedProduct["product_partner"],(function(a,r){return e("div",{key:r,staticClass:"form-inline"},[e("div",{staticClass:"form-check mb-2 mr-sm-2 w-25 justify-content-start"},[e("label",{staticClass:"form-check-label text-left",attrs:{for:"inlineFormCheck"}},[t._v(" "+t._s(a["branch_name"])+" ")])]),e("div",{staticClass:"input-group mb-2 mr-sm-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["stock"],expression:"stock['stock']"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a["stock"]},on:{input:function(e){e.target.composing||t.$set(a,"stock",e.target.value)}}})])])})),e("button",{staticClass:"btn btn-primary mb-2 w-100",attrs:{type:"button"},on:{click:t.updateStock}},[e("i",{staticClass:"fad fa-sync-alt"}),t._v(" update ")])],2)]),t._m(2)])]):t._e()]),e("div",{staticClass:"modal fade",attrs:{id:"modal-remove-product",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(3),t._m(4),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.removeProduct}},[t._v(" hapus ")])])])])]),e("div",{staticClass:"button-add-product",on:{click:t.openModalAddProduct}},[t._m(5)])])},P=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn btn-success rounded-circle",attrs:{id:"btn-sync","data-toggle":"tooltip","data-placement":"bottom",title:"Sinkron Dengan Accurate",disabled:""}},[e("i",{staticClass:"fad fa-sync-alt"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",{staticClass:"bg-info text-center p-2"},[e("h2",{staticClass:"text-white"},[t._v("Produk Baru")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer justify-content-center"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Hapus Produk")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-body"},[e("p",[t._v("Apakah Anda Yakin Ingin Menghapus Produk ?")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn btn-info rounded-circle"},[e("i",{staticClass:"fad fa-user-plus"})])}],C=(e("25f0"),e("fb6a"),e("ac1f"),e("5319"),e("b680"),{name:"Item",components:{},data:function(){return{products:[],addProduct:{code:{data:"",error:!1,errorMessage:""},name:{data:"",error:!1,errorMessage:""},type:{data:"",error:!1,errorMessage:"",additionalData:["GROUP","INVENTORY","NON_INVENTORY","PRODUCTION_COST","SERVICE","VARIANT"]},category:{data:"",error:!1,errorMessage:"",additionalData:[]},unit:{data:"",error:!1,errorMessage:"",additionalData:[]},price:{data:0,error:!1,errorMessage:""},centralCommission:{data:0,error:!1,errorMessage:""},partnerCommission:{data:0,error:!1,errorMessage:""},grand_price:{data:0,error:!1,errorMessage:""},image:{data:"",error:!1,errorMessage:""}},editProduct:{code:{data:"",error:!1,errorMessage:""},name:{data:"",error:!1,errorMessage:""},type:{data:"",error:!1,errorMessage:"",additionalData:["GROUP","INVENTORY","NON_INVENTORY","PRODUCTION_COST","SERVICE","VARIANT"]},category:{data:"",error:!1,errorMessage:"",additionalData:[]},unit:{data:"",error:!1,errorMessage:"",additionalData:[]},price:{data:0,error:!1,errorMessage:""},centralCommission:{data:0,error:!1,errorMessage:""},partnerCommission:{data:0,error:!1,errorMessage:""},grand_price:{data:0,error:!1,errorMessage:""},image:{data:"",error:!1,errorMessage:""}},selectedProduct:{},userStocks:[],selectedRemove:0}},methods:{updateProduct:function(){var t=this;this.$root.loading=!0;var a=new FormData;a.append("code",this.editProduct["code"]["data"]),a.append("name",this.editProduct["name"]["data"]),a.append("type",this.editProduct["type"]["data"]),a.append("category",this.editProduct["category"]["data"]),a.append("unit",this.editProduct["unit"]["data"]),a.append("price",this.editProduct["price"]["data"]);var e=this.editProduct["category"]["additionalData"].filter((function(a){return a.id===t.editProduct["category"]["data"]}))[0]["name"];return a.append("category_name",e),a.append("centralCommission",this.editProduct["centralCommission"]["data"]),a.append("partnerCommission",this.editProduct["partnerCommission"]["data"]),a.append("grand_price",this.editProduct["grand_price"]["data"]),a.append("image",this.editProduct["image"]["data"]),this.$http.post("".concat("https://api-pos.beliayam.com/admin","/items/").concat(this.selectedProduct["id"]),a,{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-Type":"multipart/form-data"}}).then((function(a){a["data"]["success"]&&(t.$alertify.success(a["data"]["message"]),t.getProducts(),t.addProduct={code:{data:"",error:!1,errorMessage:""},name:{data:"",error:!1,errorMessage:""},type:{data:"",error:!1,errorMessage:"",additionalData:["GROUP","INVENTORY","NON_INVENTORY","PRODUCTION_COST","SERVICE","VARIANT"]},unit:{data:"",error:!1,errorMessage:""},category:{data:"",error:!1,errorMessage:""},price:{data:0,error:!1,errorMessage:""},centralCommission:{data:0,error:!1,errorMessage:""},partnerCommission:{data:0,error:!1,errorMessage:""},grand_price:{data:0,error:!1,errorMessage:""},image:{data:"",error:!1,errorMessage:""}},v()("#modal-product").modal("hide"),t.$root.loading=!1)})).catch((function(a){a.response.data.success&&t.$alertify.error(a.response["data"]["message"])}))},saveProduct:function(){var t=this;this.$root.loading=!0;var a=new FormData;a.append("code",this.addProduct["code"]["data"]),a.append("name",this.addProduct["name"]["data"]),a.append("type",this.addProduct["type"]["data"]),a.append("category",this.addProduct["category"]["data"]),a.append("unit",this.addProduct["unit"]["data"]);var e=this.addProduct["category"]["additionalData"].filter((function(a){return a.id===t.addProduct["category"]["data"]}))[0]["name"];return a.append("category_name",e),a.append("image",this.addProduct["image"]["data"]),this.$http.post("".concat("https://api-pos.beliayam.com/admin","/items"),a,{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-Type":"multipart/form-data"}}).then((function(a){a["data"]["success"]&&(t.$alertify.success(a["data"]["message"]),t.getProducts(),t.addProduct={code:{data:"",error:!1,errorMessage:""},name:{data:"",error:!1,errorMessage:""},type:{data:"",error:!1,errorMessage:"",additionalData:["GROUP","INVENTORY","NON_INVENTORY","PRODUCTION_COST","SERVICE","VARIANT"]},unit:{data:"",error:!1,errorMessage:"",additionalData:t.addProduct["unit"]["additionalData"]},category:{data:"",error:!1,errorMessage:"",additionalData:t.addProduct["category"]["additionalData"]},price:{data:0,error:!1,errorMessage:""},centralCommission:{data:0,error:!1,errorMessage:""},partnerCommission:{data:0,error:!1,errorMessage:""},grand_price:{data:0,error:!1,errorMessage:""},image:{data:"",error:!1,errorMessage:""}},v()("#modal-add-product").modal("hide"),t.$root.loading=!1)})).catch((function(t){console.log(t.response)}))},openEditProduct:function(){this.editProduct["code"]["data"]=this.selectedProduct.no,this.editProduct["name"]["data"]=this.selectedProduct.name,this.editProduct["type"]["data"]=this.selectedProduct.type,this.editProduct["unit"]["data"]=this.selectedProduct.unit_id,this.editProduct["category"]["data"]=this.selectedProduct.category_id,this.editProduct["price"]["data"]=this.selectedProduct.basic_price,this.editProduct["centralCommission"]["data"]=this.selectedProduct.centralCommission,this.editProduct["partnerCommission"]["data"]=this.selectedProduct.partnerCommission,this.editProduct["grand_price"]["data"]=this.selectedProduct.grand_price,this.editProduct["image"]["data"]=this.selectedProduct.image,this.editProduct["realPrice"]=this.selectedProduct.grand_price,this.roundPrice(v()("#round-price")[0]["checked"])},openModalProduct:function(t){this.$root.loading=!0,this.selectedProduct=this.products.filter((function(a,e){if(a.id===t)return a["index"]=e,a}))[0],v()("#modal-product").modal("show"),v()("#nav-detail-tab").tab("show"),v()("#nav-detail").tab("show"),this.$root.loading=!1},openModalRemoveProduct:function(t){this.selectedRemove=t,v()("#modal-remove-product").modal("show")},removeProduct:function(){var t=this;return this.$root.loading=!0,this.$http.delete("".concat("https://api-pos.beliayam.com/admin","/items/").concat(this.selectedRemove),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-Type":"multipart/form-data"}}).then((function(a){if(a["data"]["success"])return t.$root.loading=!1,t.getProducts(),v()("#modal-remove-product").modal("hide"),void t.$alertify.success("Berhasil Menghapus");t.$root.loading=!1})).catch((function(a){a.response["data"]["message"]&&(t.addProduct["code"]["error"]=!0,t.addProduct["code"]["errorMessage"]=a.response["data"]["message"]),t.$root.loading=!1}))},editPriceLabel:function(t){var a=t.target||t.srcElement;a.contentEditable=!0},checkNoProductExist:function(){var t=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/items/check/").concat(this.addProduct["code"]["data"]),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-Type":"multipart/form-data"}}).then((function(a){a["data"]["data"]||(t.addProduct["code"]["error"]=!1,t.addProduct["code"]["errorMessage"]="",t.$root.loading=!1)})).catch((function(a){a.response["data"]["message"]&&(t.addProduct["code"]["error"]=!0,t.addProduct["code"]["errorMessage"]=a.response["data"]["message"])}))},getImage:function(t){try{var a=this.products.filter((function(a){return a.no===t}))[0],r=JSON.parse(a["image"]);return"https://api-pos.beliayam.com"+r["thumbURL"]}catch(s){var o=e("6c17");return o}},getProducts:function(){var t=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/category/").concat(this.$route.params.categoryId,"/products"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-Type":"multipart/form-data"}}).then((function(a){a["data"]["success"]&&(t.products=a["data"]["data"],t.$root.loading=!1)})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},handleFileUpload:function(){this.addProduct["image"]["data"]=this.$refs.image.files[0]},handleFileUpdate:function(){this.editProduct["image"]["data"]=this.$refs.imageUpdate.files[0]},syncProductStock:function(t,a,e){var r=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/sync/stock/").concat(t,"/user/").concat(a["user_id"]),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){t["data"]["data"]["s"]?(r.selectedProduct["product_partner"][e]["stock"]=Math.floor(t["data"]["data"]["d"]["availableStock"]),r.$alertify.success("Berhasil sinkron"),r.$root.loading=!1):r.$alertify.error(t["data"]["data"]["d"])})).catch((function(t){r.$alertify.error(t.response["data"]["message"])}))},calculatePrice:function(){this.editProduct["grand_price"]["data"]=parseInt(this.editProduct["price"]["data"])+parseInt(this.editProduct["centralCommission"]["data"])+this.editProduct["partnerCommission"]["data"]},syncPrice:function(t){var a=this;return this.$root.loading=!0,""===t||void 0===t?(this.$alertify.warning("Harap isi UPC / Barcode"),void(this.$root.loading=!1)):this.$http.get("".concat("https://api-pos.beliayam.com/admin","/sync/").concat(t,"/price"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){if(t["data"]["success"]){if(t["data"]["data"]["s"])return a.selectedProduct["basic_price"]=parseInt(t["data"]["data"]["d"]["balanceUnitCost"]),a.editProduct["price"]["data"]=parseInt(t["data"]["data"]["d"]["balanceUnitCost"]),a.$alertify.success("Berhasil sinkron harga"),a.$root.loading=!1,void a.calculatePrice();t["data"]["data"]["d"].map((function(t){a.$alertify.warning(t),a.$root.loading=!1}))}})).catch((function(t){a.$alertify.error(t.response["data"]["message"])}))},updateStock:function(){var t=this;return this.$root.loading=!0,this.$http.post("".concat("https://api-pos.beliayam.com/admin","/items/stock/update"),{product:this.selectedProduct},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.$alertify.success(a["data"]["message"]),t.$root.loading=!1)})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},openModalAddProduct:function(){this.addProduct["price"]["data"]=0,v()("#modal-add-product").modal("show")},getListUnit:function(){var t=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/items/list-unit"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){if(a["data"]["success"]){var e=a["data"]["data"]["d"];t.addProduct["unit"]["additionalData"]=e,t.editProduct["unit"]["additionalData"]=e,t.$root.loading=!1}})).catch((function(a){t.$alertify.error(a.response["data"]["data"]["d"]),t.$root.loading=!1}))},getCategories:function(){var t=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/items/categories"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){if(a["data"]["success"]){var e=a["data"]["data"];t.addProduct["category"]["additionalData"]=e,t.editProduct["category"]["additionalData"]=e,t.$root.loading=!1}})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},roundPrice:function(t){if(parseInt(this.editProduct["grand_price"]["data"])>0){if(t){var a=this.editProduct["grand_price"]["data"].toString(),e=a.slice(-3),r=a.slice(-2),o=Math.round(e.substring(0,1).concat(".").concat(r)),s=o.toString()+"00",i=parseFloat(parseInt(a.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")).toFixed(3).replace(/[^\d]/g,""));return this.editProduct["grand_price"]["data"]=i+parseInt(s)}this.editProduct["grand_price"]["data"]=this.editProduct["realPrice"]}},isNumber:function(t){t=t||window.event;var a=t.which?t.which:t.keyCode;if(!(a>31&&(a<48||a>57)&&46!==a))return!0;t.preventDefault()}},mounted:function(){v()("#btn-update-mass-price").tooltip({boundary:"window"}),v()("#btn-sync").tooltip({boundary:"window"}),v()("#btn-add-product").tooltip({boundary:"window"})},filters:{formatMoney:function(t){var a=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"});return a.format(t)}},created:function(){this.getProducts(),this.getListUnit(),this.getCategories()}}),k=C,w=(e("dc3b"),Object(c["a"])(k,y,P,!1,null,"3e9bcb42",null)),$=w.exports,j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"animate__animated animate__fadeInRight"},[t._m(0),this.$root.loading?e("div",{staticClass:"row mt-5"},t._l(8,(function(t,a){return e("div",{key:a,staticClass:"col-md-3 col-sm-4"},[e("div",{staticClass:"resource"},[e("VueContentLoading",{staticClass:"shrimmer-container",attrs:{width:210,height:190}},[e("rect",{attrs:{width:"210",height:"190"}}),e("rect",{staticClass:"p-2",attrs:{width:"210",height:"50"}})]),e("VueContentLoading",{staticClass:"shrimmer-container p-2",attrs:{width:210,height:50}},[e("rect",{staticClass:"p-2",attrs:{width:"210",height:"50"}})])],1)])})),0):e("div",{staticClass:"row mt-5"},t._l(t.categories,(function(a,r){return e("div",{key:r,staticClass:"col-md-3 col-sm-4"},[e("div",{staticClass:"resource"},[e("div",{staticClass:"no-gutters"},[e("div",{staticClass:"w-100"},[e("router-link",{attrs:{to:{name:"products",params:{categoryId:a["id"]}}}},[e("img",{staticClass:"img-fluid rounded w-100",attrs:{src:t.getImage(a["slug"]),alt:a["name"]}})])],1),e("div",{staticClass:"w-100"},[e("router-link",{staticClass:"text-decoration-none text-dark",attrs:{to:{name:"products",params:{categoryId:a["id"]}}}},[e("h5",{staticClass:"p-2 category-title nowrap"},[t._v(" "+t._s(a["name"])+" ")])])],1)])])])})),0)])},x=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",{staticClass:"card-header header-category"},[e("h2",[t._v("Kategori Ayam")])])}],M=e("bc3a"),I=e.n(M),A=e("68ee2"),O={name:"category",components:{VueContentLoading:A["VueContentLoading"]},data:function(){return{categories:[],loadingImageCategory:!1}},methods:{getImage:function(t){this.loadingImageCategory=!0;try{var a=e("7606")("./".concat(t,".jpeg"));return this.loadingImageCategory=!1,a}catch(o){var r=e("6035");return this.loadingImageCategory=!1,r}},getCategory:function(){var t=this;this.$root.loading=!0,this.$root.loading&&I.a.get("".concat("https://api-pos.beliayam.com/admin","/categories"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-type":"application/json"}}).then((function(a){t.categories=a.data,a.data&&(t.result=a.data.filter((function(t){switch(t["name"]){case"PARTING":t["slug"]="parting";break;case"Ayam Broiler":t["slug"]="broiler";break;case"Ayam Kampung":t["slug"]="kampung";break;case"Ayam Pejantan":t["slug"]="pejantan";break;default:t["slug"]="merah";break}})),t.$root.loading=!t.$root.loading)})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))}},mounted:function(){this.getCategory()}},S=O,N=(e("3dcb"),Object(c["a"])(S,j,x,!1,null,"2455ec28",null)),D=N.exports,B=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"m-auto"},[e("button",{staticClass:"btn btn-info mr-1",attrs:{id:"btn-update-mass-price","data-toggle":"tooltip","data-placement":"bottom",title:"Buat Penawaran Produl Baru"},on:{click:function(a){return t.openModalAddProduct()}}},[e("i",{staticClass:"fad fa-usd-circle"}),t._v(" Penawaran Baru ")])])])]),e("div",{staticClass:"table-responsive overflow-x-none"},[e("table",{staticClass:"table table-borderless table-hover"},[t._m(1),e("tbody",t._l(t.productOffer,(function(a,r){return e("tr",{key:r,staticClass:"text-nowrap"},[e("td",[t._v(" "+t._s(r+1)+" ")]),e("td",[t._v(" "+t._s(a["no"])+" ")]),e("td",[t._v(" "+t._s(a["name"])+" ")]),e("td",[t._v(" "+t._s(a["category_name"])+" ")]),e("td",[t._v(" "+t._s(t._f("formatMoney")(a["basic_price"]))+" ")]),e("td",[t._v(" "+t._s(t._f("formatMoney")(a["centralCommission"]))+" ")]),e("td",[t._v(" "+t._s(t._f("formatMoney")(a["partnerCommission"]))+" ")]),e("td",[t._v(" "+t._s(t._f("formatMoney")(a["grand_price"]))+" ")]),e("td",[t._v(" "+t._s(t._f("formatDate")(a["created_at"]))+" ")]),e("td",[e("div",{staticClass:"custom-control custom-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["is_active"],expression:"product['is_active']"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"switchActive-"+a["id"]},domProps:{checked:Array.isArray(a["is_active"])?t._i(a["is_active"],null)>-1:a["is_active"]},on:{click:function(e){return t.updateStatusOffer(a)},change:function(e){var r=a["is_active"],o=e.target,s=!!o.checked;if(Array.isArray(r)){var i=null,d=t._i(r,i);o.checked?d<0&&t.$set(a,"is_active",r.concat([i])):d>-1&&t.$set(a,"is_active",r.slice(0,d).concat(r.slice(d+1)))}else t.$set(a,"is_active",s)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"switchActive-"+a["id"]}},[t._v(t._s(t._f("isActive")(a["is_active"])))])])]),e("td",[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Edit ")]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.updateProductOffer(a)}}},[t._v("Ubah")]),e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.removeProduct(a)}}},[t._v("Hapus")])])])])])})),0)])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-remove-offer",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[t._m(2),t._m(3),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.deleteOffer()}}},[t._v(" Ya, saya mengerti ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-add-product",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[t._m(4),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("kategori")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["category"],expression:"addProduct['data']['category']"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.addProduct["data"],"category",a.target.multiple?e:e[0])},function(a){return t.updateCategory("add")}]}},[e("option",{staticClass:"form-control",attrs:{disabled:"",selected:""}},[t._v(" Pilih Kategori ")]),t._l(t.categories["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a["name"])+" ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("Produk")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["product"],expression:"addProduct['data']['product']"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.addProduct["data"],"product",a.target.multiple?e:e[0])},function(a){return t.setAutoGrandPrice()}]}},[e("option",{staticClass:"form-control",attrs:{disabled:"",selected:""}},[t._v(" Pilih Produk ")]),t._l(t.addProduct["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a["name"])+" ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlInput1"}},[t._v("Harga Dasar")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["product"]["basic_price"],expression:"addProduct['data']['product']['basic_price']"}],staticClass:"form-control",attrs:{type:"email",id:"exampleFormControlInput1",placeholder:"harga dasar",disabled:"true"},domProps:{value:t.addProduct["data"]["product"]["basic_price"]},on:{input:function(a){a.target.composing||t.$set(t.addProduct["data"]["product"],"basic_price",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlInput1"}},[t._v("Komisi Pusat")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["product"]["centralCommission"],expression:"addProduct['data']['product']['centralCommission']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"komisi"},domProps:{value:t.addProduct["data"]["product"]["centralCommission"]},on:{keyup:function(a){return t.calculatePrice("add")},keypress:function(a){return t.isNumber(a)},input:function(a){a.target.composing||t.$set(t.addProduct["data"]["product"],"centralCommission",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlInput1"}},[t._v("Komisi Mitra")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["product"]["partnerCommission"],expression:"addProduct['data']['product']['partnerCommission']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"komisi"},domProps:{value:t.addProduct["data"]["product"]["partnerCommission"]},on:{keyup:function(a){return t.calculatePrice("add")},keypress:function(a){return t.isNumber(a)},input:function(a){a.target.composing||t.$set(t.addProduct["data"]["product"],"partnerCommission",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v(" Harga End-user ")]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",checked:"true",id:"round-price",disabled:0===Object.keys(t.addProduct["data"]["product"]).length},on:{click:function(a){return t.roundPrice(a.target.checked,"add")}}}),e("small",{staticClass:"form-check-label",attrs:{for:"defaultCheck1"}},[t._v(" bulatkan harga ")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["product"]["grand_price"],expression:"addProduct['data']['product']['grand_price']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"harga"},domProps:{value:t.addProduct["data"]["product"]["grand_price"]},on:{keypress:function(a){return t.isNumber(a)},input:function(a){a.target.composing||t.$set(t.addProduct["data"]["product"],"grand_price",a.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:!t.addProduct["data"]["product"]["grand_price"]},on:{click:function(a){return t.addOffer()}}},[t._v(" simpan penawaran baru ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-edit-offer",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-warning"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" Perbarui Penawaran "+t._s(t.updateOffer["data"]["product"]["name"])+" ")]),t._m(5)]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("kategori")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.updateOffer["data"]["category"]["category_id"],expression:"updateOffer['data']['category']['category_id']"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1",disabled:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.updateOffer["data"]["category"],"category_id",a.target.multiple?e:e[0])}}},t._l(t.categories["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a["id"],selected:t.updateOffer["data"]["category"]["category_id"]===a["id"]}},[t._v(" "+t._s(a["name"])+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("Produk")]),e("select",{staticClass:"form-control",attrs:{id:"exampleFormControlSelect1",disabled:""}},[e("option",{staticClass:"form-control",attrs:{disabled:"",selected:""}},[t._v(" Pilih Produk ")]),t._l(t.updateOffer["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a,selected:t.updateOffer["data"]["product"]["no"]===a["no"]}},[t._v(" "+t._s(a["name"])+" ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("Harga Dasar")]),e("div",{staticClass:"w-100 d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateOffer["data"]["product"]["basic_price"],expression:"updateOffer['data']['product']['basic_price']"}],staticClass:"form-control sync-price",attrs:{type:"text",id:"price",readonly:""},domProps:{value:t.updateOffer["data"]["product"]["basic_price"]},on:{input:function(a){a.target.composing||t.$set(t.updateOffer["data"]["product"],"basic_price",a.target.value)}}}),e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0)","data-toggle":"tooltip","data-placement":"bottom",title:"Sinkron Harga Dasar Saat Ini"},on:{keypress:function(a){return t.isNumber(a)},click:function(a){return t.syncPriceOffer(t.updateOffer["data"]["product"]["no"])}}},[e("i",{staticClass:"fad fa-sync-alt"})])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlInput1"}},[t._v("Komisi Pusat")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateOffer["data"]["product"]["centralCommission"],expression:"updateOffer['data']['product']['centralCommission']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"komisi"},domProps:{value:t.updateOffer["data"]["product"]["centralCommission"]},on:{keypress:function(a){return t.isNumber(a)},keyup:t.calculatePrice,input:function(a){a.target.composing||t.$set(t.updateOffer["data"]["product"],"centralCommission",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlInput1"}},[t._v("Komisi Mitra")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateOffer["data"]["product"]["partnerCommission"],expression:"updateOffer['data']['product']['partnerCommission']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"komisi"},domProps:{value:t.updateOffer["data"]["product"]["partnerCommission"]},on:{keypress:function(a){return t.isNumber(a)},keyup:t.calculatePrice,input:function(a){a.target.composing||t.$set(t.updateOffer["data"]["product"],"partnerCommission",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v(" Harga End-user ")]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",checked:"true",id:"round-price",disabled:0===Object.keys(t.updateOffer["data"]["product"]).length},on:{click:function(a){return t.roundPrice(a.target.checked,"update")}}}),e("small",{staticClass:"form-check-label",attrs:{for:"defaultCheck1"}},[t._v(" bulatkan harga ")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateOffer["data"]["product"]["grand_price"],expression:"updateOffer['data']['product']['grand_price']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"harga"},domProps:{value:t.updateOffer["data"]["product"]["grand_price"]},on:{keypress:function(a){return t.isNumber(a)},input:function(a){a.target.composing||t.$set(t.updateOffer["data"]["product"],"grand_price",a.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:!t.updateOffer["data"]["product"]["grand_price"]},on:{click:function(a){return t.putOffer()}}},[t._v(" simpan penawaran ")])])])])])])},U=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("header",{staticClass:"text-center"},[e("h3",[t._v("Penawaran Produk")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"text-nowrap"},[e("th",[t._v("No")]),e("th",[t._v("SKU")]),e("th",[t._v("Produk")]),e("th",[t._v("Kategori")]),e("th",[t._v("Harga Dasar")]),e("th",[t._v("Komisi Pusat")]),e("th",[t._v("Komisi Mitra")]),e("th",[t._v("Harga Jual")]),e("th",[t._v("Ditawarkan Pada")]),e("th",[t._v("Status")]),e("th",[t._v("Pilihan")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Hapus Penawaran")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-body"},[e("p",[t._v(" Penawaran terkait akan langsung terhapus "),e("br"),t._v(" Yakin Ingin Menghapusnya ? ")]),e("small",[e("i",{staticClass:"fad fa-info-circle"}),t._v(" Data pada accurate tidak akan terhapus")]),e("br"),e("small",[e("i",{staticClass:"fad fa-info-circle"}),t._v(" Sekali terhapus, data tidak dapat dikembalikan")]),e("br"),e("small",[e("i",{staticClass:"fad fa-info-circle"}),t._v(" Direkomendasikan Untuk Non-Aktifkan Saja")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-warning"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" Penawaran Produk Baru ")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],E=(e("b64b"),e("c1df")),z=e.n(E);z.a.locale("id");var F={name:"Offer",components:{},data:function(){return{user:{},productOffer:[],categories:{data:"",error:!1,errorMessage:"",additionalData:[]},products:{data:"",error:!1,errorMessage:"",additionalData:[]},addProduct:{data:{category:{},product:{},realPrice:0},error:!1,errorMessage:"",additionalData:[]},removeOffer:{},updateOffer:{data:{category:{},product:{},realPrice:0},error:!1,errorMessage:"",additionalData:[]}}},methods:{syncPriceOffer:function(t){var a=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/offer/").concat(t,"/price"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){t["data"]["success"]&&(a.updateOffer["data"]["product"]["basic_price"]=t["data"]["data"]["basic_price"],a.$root.loading=!1,a.calculatePrice("update"))})).catch((function(t){a.$alertify.error(t.response["data"]["message"]),a.$root.loading=!1}))},updateStatusOffer:function(t){var a=this;return this.$root.loading=!0,this.$http.put("".concat("https://api-pos.beliayam.com/admin","/offer/active"),{user_id:this.user["id"],offer_id:t["id"],is_active:!t["is_active"]},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){t["data"]["success"]&&(a.getProductOffer(),a.$root.loading=!1,a.$alertify.success(t["data"]["message"]))})).catch((function(t){a.$root.loading=!1,a.$alertify.error(t.response["data"]["message"])}))},deleteOffer:function(){var t=this;return this.$http.post("".concat("https://api-pos.beliayam.com/admin","/offer/delete"),{offer:this.removeOffer},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.openModalRemoveOffer("hide"),t.removeOffer={},t.getProductOffer(),t.$root.loading=!1,t.$alertify.success("Penawaran dihapus"))})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},updateProductOffer:function(t){this.updateOffer["data"]["product"]=t,this.updateOffer["data"]["category"]={category_id:t["category_id"],category_name:t["category_name"]},this.updateOffer["data"]["realPrice"]=t["grand_price"],this.openModalUpdateOffer()},removeProduct:function(t){this.removeOffer=t,this.openModalRemoveOffer()},openModalUpdateOffer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";v()("#modal-edit-offer").modal(t)},openModalRemoveOffer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";v()("#modal-remove-offer").modal(t)},putOffer:function(){var t=this;return this.$root.loading=!0,this.$http.put("".concat("https://api-pos.beliayam.com/admin","/offer"),{product:this.updateOffer["data"]["product"]},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.openModalUpdateOffer("hide"),t.getProductOffer(),t.$root.loading=!1,t.$alertify.success("Penawaran diperbaharui"))})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},addOffer:function(){var t=this;return this.$root.loading=!0,this.$http.post("".concat("https://api-pos.beliayam.com/admin","/offer"),{product:this.addProduct["data"]["product"],user:this.user},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.openModalAddProduct("hide"),t.getProductOffer(),t.$root.loading=!1,t.$alertify.success("Penawaran ditambahkan"))})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},setAutoGrandPrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";"add"==t?(this.addProduct["data"]["realPrice"]=parseInt(this.addProduct["data"]["product"]["grand_price"]),this.calculatePrice()):(this.updateOffer["data"]["realPrice"]=parseInt(this.updateOffer["data"]["product"]["grand_price"]),this.calculatePrice("update"))},calculatePrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";if("add"===t){var a=parseInt(this.addProduct["data"]["product"]["basic_price"])+parseInt(this.addProduct["data"]["product"]["centralCommission"])+parseInt(this.addProduct["data"]["product"]["partnerCommission"]);this.addProduct["data"]["product"]["grand_price"]=a,this.addProduct["data"]["realPrice"]=a,this.roundPrice(v()("#round-price")[0]["checked"])}else{var e=parseInt(this.updateOffer["data"]["product"]["basic_price"])+parseInt(this.updateOffer["data"]["product"]["centralCommission"])+parseInt(this.updateOffer["data"]["product"]["partnerCommission"]);this.updateOffer["data"]["product"]["grand_price"]=e,this.updateOffer["data"]["realPrice"]=e,this.roundPrice(v()("#round-price")[0]["checked"],"update")}},roundPrice:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";if("add"===a){if(0!==Object.keys(this.addProduct["data"]["product"]).length){if(t){console.log(Object.keys(this.addProduct["data"]["product"]).length),this.addProduct["data"]["realPrice"]=this.addProduct["data"]["product"]["grand_price"];var e=this.addProduct["data"]["product"]["grand_price"].toString(),r=e.slice(-3),o=e.slice(-2),s=Math.round(r.substring(0,1).concat(".").concat(o)),i=s.toString()+"00",d=parseFloat(parseInt(e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")).toFixed(3).replace(/[^\d]/g,""));return this.addProduct["data"]["product"]["grand_price"]=d+parseInt(i)}this.addProduct["data"]["product"]["grand_price"]=this.addProduct["data"]["realPrice"],this.addProduct["data"]["realPrice"]=0}}else if(0!==Object.keys(this.updateOffer["data"]["product"]).length){if(t){this.updateOffer["data"]["realPrice"]=this.updateOffer["data"]["product"]["grand_price"];var n=this.updateOffer["data"]["product"]["grand_price"].toString(),c=n.slice(-3),l=n.slice(-2),u=Math.round(c.substring(0,1).concat(".").concat(l)),p=u.toString()+"00",m=parseFloat(parseInt(n.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")).toFixed(3).replace(/[^\d]/g,""));return this.updateOffer["data"]["product"]["grand_price"]=m+parseInt(p)}this.updateOffer["data"]["product"]["grand_price"]=this.updateOffer["data"]["realPrice"],this.updateOffer["data"]["realPrice"]=0}},openModalAddProduct:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";v()("#modal-add-product").modal(t)},updateCategory:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";this.$root.loading=!0;var e=0;return"add"===a?(e=this.addProduct["data"]["category"]["id"],console.log(e)):e=this.updateOffer["data"]["category"]["category_id"],this.$http.get("".concat("https://api-pos.beliayam.com/admin","/category/").concat(e,"/products"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(e){e["data"]["success"]&&("add"===a?t.addProduct["additionalData"]=e["data"]["data"]:t.updateOffer["additionalData"]=e["data"]["data"],t.$root.loading=!1)})).catch((function(a){console.error(a),t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},getUser:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/user/").concat(this.$route.params.userId),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.user=a["data"]["data"])})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},getProductOffer:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/offer/user/").concat(this.$route.params.userId),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.productOffer=a["data"]["data"])})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},getCategory:function(){var t=this;this.$root.loading=!0,this.$root.loading&&this.$http.get("".concat("https://api-pos.beliayam.com/admin","/categories"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-type":"application/json"}}).then((function(a){t.categories["additionalData"]=a.data,t.$root.loading=!t.$root.loading})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},isNumber:function(t){t=t||window.event;var a=t.which?t.which:t.keyCode;if(!(a>31&&(a<48||a>57)&&46!==a))return!0;t.preventDefault()}},filters:{isActive:function(t){return 1===t||!0===t?"Aktif":"Non-Aktif"},isDefault:function(t){return 1===t||!0===t?"Pusat":"Bukan Pusat"},formatDate:function(t){return z()(t).format("Do MMMM YYYY")},formatMoney:function(t){var a=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"});return a.format(t)}},created:function(){this.getUser(),this.getProductOffer(),this.getCategory()}},T=F,L=(e("67cf"),Object(c["a"])(T,B,U,!1,null,"ed6cf104",null)),R=L.exports,K=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"m-auto"},[e("button",{staticClass:"btn btn-info mr-1",attrs:{id:"btn-update-mass-price","data-toggle":"tooltip","data-placement":"bottom",title:"Buat Promo Produk Baru"},on:{click:function(a){return t.openModalAddProduct()}}},[e("i",{staticClass:"fad fa-usd-circle"}),t._v(" Promo Baru ")])])])]),e("div",{staticClass:"table-responsive overflow-x-none"},[e("table",{staticClass:"table table-borderless table-hover"},[t._m(1),e("tbody",t._l(t.productPromo,(function(a,r){return e("tr",{key:r,staticClass:"text-nowrap"},[e("td",[t._v(" "+t._s(r+1)+" ")]),e("td",[t._v(" "+t._s(a["no"])+" ")]),e("td",[t._v(" "+t._s(a["name"])+" ")]),e("td",[t._v(" "+t._s(a["category_name"])+" ")]),e("td",[t._v(" "+t._s(t._f("formatMoney")(a["basic_price"]))+" ")]),e("td",[t._v(" "+t._s(t._f("formatMoney")(a["centralCommission"]))+" ")]),e("td",[t._v(" "+t._s(t._f("formatMoney")(a["partnerCommission"]))+" ")]),e("td",[t._v(" "+t._s(t._f("formatMoney")(a["grand_price"]))+" ")]),e("td",[t._v(" "+t._s(t._f("formatDate")(a["created_at"]))+" ")]),e("td",[e("div",{staticClass:"custom-control custom-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["is_active"],expression:"product['is_active']"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"switchActive-"+a["id"]},domProps:{checked:Array.isArray(a["is_active"])?t._i(a["is_active"],null)>-1:a["is_active"]},on:{click:function(e){return t.updateStatusPromo(a)},change:function(e){var r=a["is_active"],o=e.target,s=!!o.checked;if(Array.isArray(r)){var i=null,d=t._i(r,i);o.checked?d<0&&t.$set(a,"is_active",r.concat([i])):d>-1&&t.$set(a,"is_active",r.slice(0,d).concat(r.slice(d+1)))}else t.$set(a,"is_active",s)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"switchActive-"+a["id"]}},[t._v(t._s(t._f("isActive")(a["is_active"])))])])]),e("td",[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Edit ")]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.updateProductPromotion(a)}}},[t._v("Ubah")]),e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.removePromotion(a)}}},[t._v("Hapus")])])])])])})),0)])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-remove-promo",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[t._m(2),t._m(3),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.deletePromo()}}},[t._v(" Ya, saya mengerti ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-add-product",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[t._m(4),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("kategori")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["category"],expression:"addProduct['data']['category']"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.addProduct["data"],"category",a.target.multiple?e:e[0])},function(a){return t.updateCategory("add")}]}},[e("option",{staticClass:"form-control",attrs:{disabled:"",selected:""}},[t._v(" Pilih Kategori ")]),t._l(t.categories["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a["name"])+" ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("Produk")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["product"],expression:"addProduct['data']['product']"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.addProduct["data"],"product",a.target.multiple?e:e[0])},function(a){return t.setAutoGrandPrice()}]}},[e("option",{staticClass:"form-control",attrs:{disabled:"",selected:""}},[t._v(" Pilih Produk ")]),t._l(t.addProduct["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a["name"])+" ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlInput1"}},[t._v("Harga Dasar")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["product"]["basic_price"],expression:"addProduct['data']['product']['basic_price']"}],staticClass:"form-control",attrs:{type:"email",id:"exampleFormControlInput1",placeholder:"harga dasar",disabled:"true"},domProps:{value:t.addProduct["data"]["product"]["basic_price"]},on:{input:function(a){a.target.composing||t.$set(t.addProduct["data"]["product"],"basic_price",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlInput1"}},[t._v("Komisi Pusat")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["product"]["centralCommission"],expression:"addProduct['data']['product']['centralCommission']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"komisi"},domProps:{value:t.addProduct["data"]["product"]["centralCommission"]},on:{keyup:function(a){return t.calculatePrice("add")},keypress:function(a){return t.isNumber(a)},input:function(a){a.target.composing||t.$set(t.addProduct["data"]["product"],"centralCommission",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlInput1"}},[t._v("Komisi Mitra")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["product"]["partnerCommission"],expression:"addProduct['data']['product']['partnerCommission']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"komisi"},domProps:{value:t.addProduct["data"]["product"]["partnerCommission"]},on:{keyup:function(a){return t.calculatePrice("add")},keypress:function(a){return t.isNumber(a)},input:function(a){a.target.composing||t.$set(t.addProduct["data"]["product"],"partnerCommission",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v(" Harga End-user ")]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",checked:"true",id:"round-price",disabled:0===Object.keys(t.addProduct["data"]["product"]).length},on:{click:function(a){return t.roundPrice(a.target.checked,"add")}}}),e("small",{staticClass:"form-check-label",attrs:{for:"defaultCheck1"}},[t._v(" bulatkan harga ")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["data"]["product"]["grand_price"],expression:"addProduct['data']['product']['grand_price']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"harga"},domProps:{value:t.addProduct["data"]["product"]["grand_price"]},on:{keypress:function(a){return t.isNumber(a)},input:function(a){a.target.composing||t.$set(t.addProduct["data"]["product"],"grand_price",a.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:!t.addProduct["data"]["product"]["grand_price"]},on:{click:function(a){return t.addPromo()}}},[t._v(" simpan promo baru ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-edit-promo",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-warning"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" Perbarui Promo "+t._s(t.updatePromo["data"]["product"]["name"])+" ")]),t._m(5)]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("kategori")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.updatePromo["data"]["category"]["category_id"],expression:"updatePromo['data']['category']['category_id']"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1",disabled:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.updatePromo["data"]["category"],"category_id",a.target.multiple?e:e[0])}}},t._l(t.categories["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a["id"],selected:t.updatePromo["data"]["category"]["category_id"]===a["id"]}},[t._v(" "+t._s(a["name"])+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("Produk")]),e("select",{staticClass:"form-control",attrs:{id:"exampleFormControlSelect1",disabled:""}},[e("option",{staticClass:"form-control",attrs:{disabled:"",selected:""}},[t._v(" Pilih Produk ")]),t._l(t.updatePromo["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a,selected:t.updatePromo["data"]["product"]["no"]===a["no"]}},[t._v(" "+t._s(a["name"])+" ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("Harga Dasar")]),e("div",{staticClass:"w-100 d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updatePromo["data"]["product"]["basic_price"],expression:"updatePromo['data']['product']['basic_price']"}],staticClass:"form-control sync-price",attrs:{type:"text",id:"price",readonly:""},domProps:{value:t.updatePromo["data"]["product"]["basic_price"]},on:{input:function(a){a.target.composing||t.$set(t.updatePromo["data"]["product"],"basic_price",a.target.value)}}}),e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0)","data-toggle":"tooltip","data-placement":"bottom",title:"Sinkron Harga Dasar Saat Ini"},on:{keypress:function(a){return t.isNumber(a)},click:function(a){return t.syncPricePromo(t.updatePromo["data"]["product"]["no"])}}},[e("i",{staticClass:"fad fa-sync-alt"})])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlInput1"}},[t._v("Komisi Pusat")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.updatePromo["data"]["product"]["centralCommission"],expression:"updatePromo['data']['product']['centralCommission']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"komisi"},domProps:{value:t.updatePromo["data"]["product"]["centralCommission"]},on:{keypress:function(a){return t.isNumber(a)},keyup:t.calculatePrice,input:function(a){a.target.composing||t.$set(t.updatePromo["data"]["product"],"centralCommission",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlInput1"}},[t._v("Komisi Mitra")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.updatePromo["data"]["product"]["partnerCommission"],expression:"updatePromo['data']['product']['partnerCommission']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"komisi"},domProps:{value:t.updatePromo["data"]["product"]["partnerCommission"]},on:{keypress:function(a){return t.isNumber(a)},keyup:t.calculatePrice,input:function(a){a.target.composing||t.$set(t.updatePromo["data"]["product"],"partnerCommission",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v(" Harga End-user ")]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",checked:"true",id:"round-price",disabled:0===Object.keys(t.updatePromo["data"]["product"]).length},on:{click:function(a){return t.roundPrice(a.target.checked,"update")}}}),e("small",{staticClass:"form-check-label",attrs:{for:"defaultCheck1"}},[t._v(" bulatkan harga ")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.updatePromo["data"]["product"]["grand_price"],expression:"updatePromo['data']['product']['grand_price']"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"harga"},domProps:{value:t.updatePromo["data"]["product"]["grand_price"]},on:{keypress:function(a){return t.isNumber(a)},input:function(a){a.target.composing||t.$set(t.updatePromo["data"]["product"],"grand_price",a.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:!t.updatePromo["data"]["product"]["grand_price"]},on:{click:function(a){return t.putPromo()}}},[t._v(" simpan penawaran ")])])])])])])},H=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("header",{staticClass:"text-center"},[e("h3",[t._v("Promo Produk")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"text-nowrap"},[e("th",[t._v("No")]),e("th",[t._v("SKU")]),e("th",[t._v("Produk")]),e("th",[t._v("Kategori")]),e("th",[t._v("Harga Dasar")]),e("th",[t._v("Komisi Pusat")]),e("th",[t._v("Komisi Mitra")]),e("th",[t._v("Harga Jual")]),e("th",[t._v("Ditawarkan Pada")]),e("th",[t._v("Status")]),e("th",[t._v("Pilihan")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Hapus Promo")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-body"},[e("p",[t._v(" Promo terkait akan langsung terhapus "),e("br"),t._v(" Yakin Ingin Menghapusnya ? ")]),e("small",[e("i",{staticClass:"fad fa-info-circle"}),t._v(" Data pada accurate tidak akan terhapus")]),e("br"),e("small",[e("i",{staticClass:"fad fa-info-circle"}),t._v(" Sekali terhapus, data tidak dapat dikembalikan")]),e("br"),e("small",[e("i",{staticClass:"fad fa-info-circle"}),t._v(" Direkomendasikan Untuk Non-Aktifkan Saja")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-warning"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" Promo Produk Baru ")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}];z.a.locale("id");var Y={name:"Promo",components:{},data:function(){return{user:{},productPromo:[],categories:{data:"",error:!1,errorMessage:"",additionalData:[]},products:{data:"",error:!1,errorMessage:"",additionalData:[]},addProduct:{data:{category:{},product:{},realPrice:0},error:!1,errorMessage:"",additionalData:[]},removePromo:{},updatePromo:{data:{category:{},product:{},realPrice:0},error:!1,errorMessage:"",additionalData:[]}}},methods:{syncPricePromo:function(t){var a=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/promo/").concat(t,"/price"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){t["data"]["success"]&&(a.updatePromo["data"]["product"]["basic_price"]=t["data"]["data"]["basic_price"],a.$root.loading=!1,a.calculatePrice("update"))})).catch((function(t){a.$alertify.error(t.response["data"]["message"]),a.$root.loading=!1}))},updateStatusPromo:function(t){var a=this;return this.$root.loading=!0,this.$http.put("".concat("https://api-pos.beliayam.com/admin","/promo/active"),{user_id:this.user["id"],promo_id:t["id"],is_active:!t["is_active"]},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){t["data"]["success"]&&(a.getproductPromo(),a.$root.loading=!1,a.$alertify.success(t["data"]["message"]))})).catch((function(t){a.$root.loading=!1,a.$alertify.error(t.response["data"]["message"])}))},deletePromo:function(){var t=this;return this.$http.post("".concat("https://api-pos.beliayam.com/admin","/promo/delete"),{promo:this.removePromo},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.openModalremovePromo("hide"),t.removePromo={},t.getproductPromo(),t.$root.loading=!1,t.$alertify.success("Promo dihapus"))})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},updateProductPromotion:function(t){this.updatePromo["data"]["product"]=t,this.updatePromo["data"]["category"]={category_id:t["category_id"],category_name:t["category_name"]},this.updatePromo["data"]["realPrice"]=t["grand_price"],this.openModalupdatePromo()},removePromotion:function(t){this.removePromo=t,this.openModalremovePromo()},openModalupdatePromo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";v()("#modal-edit-promo").modal(t)},openModalremovePromo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";v()("#modal-remove-promo").modal(t)},putPromo:function(){var t=this;return this.$root.loading=!0,this.$http.put("".concat("https://api-pos.beliayam.com/admin","/promo"),{product:this.updatePromo["data"]["product"]},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.openModalupdatePromo("hide"),t.getproductPromo(),t.$root.loading=!1,t.$alertify.success("Promo diperbaharui"))})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},addPromo:function(){var t=this;return this.$root.loading=!0,this.$http.post("".concat("https://api-pos.beliayam.com/admin","/promo"),{product:this.addProduct["data"]["product"],user:this.user},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.openModalAddProduct("hide"),t.getproductPromo(),t.$root.loading=!1,t.$alertify.success("Penawaran ditambahkan"))})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},setAutoGrandPrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";"add"==t?(this.addProduct["data"]["realPrice"]=parseInt(this.addProduct["data"]["product"]["grand_price"]),this.calculatePrice()):(this.updatePromo["data"]["realPrice"]=parseInt(this.updatePromo["data"]["product"]["grand_price"]),this.calculatePrice("update"))},calculatePrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";if("add"===t){var a=parseInt(this.addProduct["data"]["product"]["basic_price"])+parseInt(this.addProduct["data"]["product"]["centralCommission"])+parseInt(this.addProduct["data"]["product"]["partnerCommission"]);this.addProduct["data"]["product"]["grand_price"]=a,this.addProduct["data"]["realPrice"]=a,this.roundPrice(v()("#round-price")[0]["checked"])}else{var e=parseInt(this.updatePromo["data"]["product"]["basic_price"])+parseInt(this.updatePromo["data"]["product"]["centralCommission"])+parseInt(this.updatePromo["data"]["product"]["partnerCommission"]);this.updatePromo["data"]["product"]["grand_price"]=e,this.updatePromo["data"]["realPrice"]=e,this.roundPrice(v()("#round-price")[0]["checked"],"update")}},roundPrice:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";if("add"===a){if(0!==Object.keys(this.addProduct["data"]["product"]).length){if(t){this.addProduct["data"]["realPrice"]=this.addProduct["data"]["product"]["grand_price"];var e=this.addProduct["data"]["product"]["grand_price"].toString(),r=e.slice(-3),o=e.slice(-2),s=Math.round(r.substring(0,1).concat(".").concat(o)),i=s.toString()+"00",d=parseFloat(parseInt(e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")).toFixed(3).replace(/[^\d]/g,""));return this.addProduct["data"]["product"]["grand_price"]=d+parseInt(i)}this.addProduct["data"]["product"]["grand_price"]=this.addProduct["data"]["realPrice"],this.addProduct["data"]["realPrice"]=0}}else if(0!==Object.keys(this.updatePromo["data"]["product"]).length){if(t){this.updatePromo["data"]["realPrice"]=this.updatePromo["data"]["product"]["grand_price"];var n=this.updatePromo["data"]["product"]["grand_price"].toString(),c=n.slice(-3),l=n.slice(-2),u=Math.round(c.substring(0,1).concat(".").concat(l)),p=u.toString()+"00",m=parseFloat(parseInt(n.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")).toFixed(3).replace(/[^\d]/g,""));return this.updatePromo["data"]["product"]["grand_price"]=m+parseInt(p)}this.updatePromo["data"]["product"]["grand_price"]=this.updatePromo["data"]["realPrice"],this.updatePromo["data"]["realPrice"]=0}},openModalAddProduct:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";v()("#modal-add-product").modal(t)},updateCategory:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";this.$root.loading=!0;var e=0;return e="add"===a?this.addProduct["data"]["category"]["id"]:this.updatePromo["data"]["category"]["category_id"],this.$http.get("".concat("https://api-pos.beliayam.com/admin","/category/").concat(e,"/products"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(e){e["data"]["success"]&&("add"===a?t.addProduct["additionalData"]=e["data"]["data"]:t.updatePromo["additionalData"]=e["data"]["data"],t.$root.loading=!1)})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},getUser:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/user/").concat(this.$route.params.userId),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.user=a["data"]["data"])})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},getproductPromo:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/promo/user/").concat(this.$route.params.userId),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.productPromo=a["data"]["data"])})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},getCategory:function(){var t=this;this.$root.loading=!0,this.$root.loading&&this.$http.get("".concat("https://api-pos.beliayam.com/admin","/categories"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-type":"application/json"}}).then((function(a){t.categories["additionalData"]=a.data,t.$root.loading=!t.$root.loading})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},isNumber:function(t){t=t||window.event;var a=t.which?t.which:t.keyCode;if(!(a>31&&(a<48||a>57)&&46!==a))return!0;t.preventDefault()}},filters:{isActive:function(t){return 1===t||!0===t?"Aktif":"Non-Aktif"},isDefault:function(t){return 1===t||!0===t?"Pusat":"Bukan Pusat"},formatDate:function(t){return z()(t).format("Do MMMM YYYY")},formatMoney:function(t){var a=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"});return a.format(t)}},created:function(){this.getUser(),this.getproductPromo(),this.getCategory()}},V=Y,q=(e("cb65"),Object(c["a"])(V,K,H,!1,null,"2a3971e0",null)),G=q.exports,J=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"m-auto"},[e("button",{staticClass:"btn btn-info mr-1",attrs:{id:"btn-update-mass-price","data-toggle":"tooltip","data-placement":"bottom",title:"Buat Penawaran Produl Baru"},on:{click:function(a){return t.openModalAddProduct()}}},[e("i",{staticClass:"fad fa-usd-circle"}),t._v(" Notifikasi Baru ")])])])]),e("form",[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputAddress"}},[t._v("Provinsi")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedProvince,expression:"selectedProvince"}],staticClass:"form-control",attrs:{id:"inputCabang"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.selectedProvince=a.target.multiple?e:e[0]},function(a){return t.getCities()}]}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Pilih Provinsi")]),t._l(t.provinces,(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a["name"])+" ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputAddress"}},[t._v("Kota")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCity,expression:"selectedCity"}],staticClass:"form-control",attrs:{id:"inputCabang"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.selectedCity=a.target.multiple?e:e[0]},function(a){return t.getDistrict()}]}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Pilih Kota")]),t._l(t.cities,(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a["name"])+" ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputAddress"}},[t._v("Kecamatan")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDistrict,expression:"selectedDistrict"}],staticClass:"form-control",attrs:{id:"inputCabang"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.selectedDistrict=a.target.multiple?e:e[0]},function(a){return t.getSubDistrict()}]}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Pilih KEcamatan")]),t._l(t.districts,(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a["name"])+" ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputAddress"}},[t._v("Keluran")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSubDistrict,expression:"selectedSubDistrict"}],staticClass:"form-control",attrs:{id:"inputCabang"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.selectedSubDistrict=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Pilih Kelurahan")]),t._l(t.sub_districts,(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a["nama"])+" ")])}))],2)]),e("div",{staticClass:"form-group text-center"},[e("a",{staticClass:"btn btn-success",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.notify()}}},[t._v("Buat Notifikasi")])])])])])},Q=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("header",{staticClass:"text-center"},[e("h3",[t._v("Notifikasi")])])])}];z.a.locale("id");var W={name:"Notification",components:{},data:function(){return{user:[],provinces:[],cities:[],districts:[],sub_districts:[],selectedProvince:{},selectedCity:{},selectedDistrict:{},selectedSubDistrict:{}}},methods:{notify:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/user/").concat(this.$route.params.userId),{province:this.selectedProvince,city:this.selectedCity,district:this.selectedDistrict,sub_district:this.selectedSubDistrict},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&t.$alertify.success("Berhasil")})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},getUser:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/user/").concat(this.$route.params.userId),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.user=a["data"]["data"])})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},getProvince:function(){var t=this;if(this.user)return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/provinces-lists"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.provinces=a["data"]["data"],t.selectedProvince["id"]=t.user["province_id"],t.selectedProvince["name"]=t.user["province_name"])})).catch((function(a){t.$alertify.error(a.response["data"]["data"]["d"])}))},getCities:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/cities-lists/").concat(this.selectedProvince["id"]),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&a["data"]["data"]&&(t.cities=a["data"]["data"])})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},getDistrict:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/district-lists/").concat(this.selectedCity["id"]),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&a["data"]["data"]&&(t.districts=a["data"]["data"])})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},getSubDistrict:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/subdistrict-lists/").concat(this.selectedDistrict["id"]),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&a["data"]["data"]&&(t.sub_districts=a["data"]["data"])})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))}},created:function(){this.getUser(),this.getProvince()}},X=W,Z=(e("12a1"),Object(c["a"])(X,J,Q,!1,null,"1d1b5a43",null)),tt=Z.exports;r["a"].use(o["a"]);var at=[{path:"/",name:"Home",component:u,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:function(){return e.e("about").then(e.bind(null,"bd01"))}},{path:"/db/:id",name:"About",component:function(){return e.e("about").then(e.bind(null,"f820"))},meta:{requiresAuth:!0}},{path:"/database/user-lists",name:"databaseUser",component:_,meta:{requiresAuth:!0}},{path:"/user/add",name:"UserAdd",component:function(){return e.e("about").then(e.bind(null,"12dd"))},meta:{requiresAuth:!0}},{path:"/user/edit/:id",name:"UserUpdate",component:function(){return e.e("about").then(e.bind(null,"a884"))},meta:{requiresAuth:!0}},{path:"/kategori",name:"category",component:D,meta:{requiresAuth:!0}},{path:"/produk/:categoryId",name:"products",component:$,meta:{requiresAuth:!0}},{path:"/penawaran/:userId",name:"offer",component:R,meta:{requiresAuth:!0}},{path:"/promo/:userId",name:"promo",component:G,meta:{requiresAuth:!0}},{path:"/push/:userId",name:"push",component:tt,meta:{requiresAuth:!0}}],et=new o["a"]({mode:"history",routes:at});et.beforeEach((function(t,a,e){if("notFound"===t.name)return e();t.meta.requiresAuth?localStorage.getItem("jwt-admin")?e():e({path:"/login",params:{nextUrl:t.fullPath}}):localStorage.getItem("jwt-admin")?e({path:"/",params:{nextUrl:t.fullPath}}):e()}));a["a"]=et},a992:function(t,a,e){t.exports=e.p+"img/merah.47d27927.jpeg"},b01e:function(t,a,e){t.exports=e.p+"img/pejantan.832d97c1.jpeg"},cb65:function(t,a,e){"use strict";e("8be8")},cf05:function(t,a,e){t.exports=e.p+"img/logo.85401979.png"},dc3b:function(t,a,e){"use strict";e("1faf")},f0a3:function(t,a,e){"use strict";e("fed6")},f4af:function(t,a,e){},fed6:function(t,a,e){}});
//# sourceMappingURL=app.d3a2a484.js.map