(function(t){function a(a){for(var r,o,n=a[0],d=a[1],c=a[2],l=0,u=[];l<n.length;l++)o=n[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(t[r]=d[r]);m&&m(a);while(u.length)u.shift()();return s.push.apply(s,c||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],r=!0,o=1;o<e.length;o++){var n=e[o];0!==i[n]&&(r=!1)}r&&(s.splice(a--,1),t=d(d.s=e[0]))}return t}var r={},o={app:0},i={app:0},s=[];function n(t){return d.p+"js/"+({about:"about"}[t]||t)+"."+{about:"8457f63d"}[t]+".js"}function d(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,d),e.l=!0,e.exports}d.e=function(t){var a=[],e={about:1};o[t]?a.push(o[t]):0!==o[t]&&e[t]&&a.push(o[t]=new Promise((function(a,e){for(var r="css/"+({about:"about"}[t]||t)+"."+{about:"ae05b752"}[t]+".css",i=d.p+r,s=document.getElementsByTagName("link"),n=0;n<s.length;n++){var c=s[n],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===i))return a()}var u=document.getElementsByTagName("style");for(n=0;n<u.length;n++){c=u[n],l=c.getAttribute("data-href");if(l===r||l===i)return a()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=a,m.onerror=function(a){var r=a&&a.target&&a.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete o[t],m.parentNode.removeChild(m),e(s)},m.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){o[t]=0})));var r=i[t];if(0!==r)if(r)a.push(r[2]);else{var s=new Promise((function(a,e){r=i[t]=[a,e]}));a.push(r[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,d.nc&&l.setAttribute("nonce",d.nc),l.src=n(t);var u=new Error;c=function(a){l.onerror=l.onload=null,clearTimeout(m);var e=i[t];if(0!==e){if(e){var r=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,e[1](u)}i[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(a)},d.m=t,d.c=r,d.d=function(t,a,e){d.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},d.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(t,a){if(1&a&&(t=d(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(d.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)d.d(e,r,function(a){return t[a]}.bind(null,r));return e},d.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return d.d(a,"a",a),a},d.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},d.p="/",d.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=a,c=c.slice();for(var u=0;u<c.length;u++)a(c[u]);var m=l;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"011a":function(t,a,e){t.exports=e.p+"img/brr0449.47d27927.jpeg"},"034f":function(t,a,e){"use strict";e("9085")},"08ea":function(t,a,e){t.exports=e.p+"img/kampung.2d017a08.jpeg"},"240b":function(t,a,e){t.exports=e.p+"img/parting.51020dd8.jpeg"},"3dcb":function(t,a,e){"use strict";e("f4af")},"3dfd":function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{attrs:{id:"app"}},[r("Navigation"),r("div",{staticClass:"container"},[r("router-view")],1),this.$root.loading?r("div",{staticClass:"loading-container w-100"},[r("div",{staticClass:"animate__animated animate__bounce infinite animate__infinite"},[r("img",{staticClass:"img-fluid img-loading",attrs:{src:e("cf05"),alt:"Loading"}})])]):t._e()],1)},o=[],i=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light p-4"},[r("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[r("img",{staticClass:"img-fluid",attrs:{src:e("3e12")}})]),t._m(0),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[r("ul",{staticClass:"navbar-nav mr-auto w-100"}),r("div",{staticClass:"text-left d-flex"},[r("a",{staticClass:"btn btn-default",attrs:{href:"javascript:void(0)"},on:{click:t.logout}},[t._v(" logout ")])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],n=e("bc3a"),d=e.n(n),c={name:"navigation",methods:{logout:function(){d.a.post("".concat("https://api-pos.beliayam.com/admin","/logout"),{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt-admin")),Accept:"application/json","Content-Type":"application/json"}}).then((function(t){t.data.success&&(localStorage.removeItem("jwt-admin",""),window.location.href="/login")}))}}},l=c,u=(e("f0a3"),e("2877")),m=Object(u["a"])(l,i,s,!1,null,"f4df61c6",null),p=m.exports,g=e("1157"),f=e.n(g),v={name:"App",components:{Navigation:p},created:function(){f()((function(){f()('[data-toggle="tooltip"]').tooltip()}))}},h=v,b=(e("034f"),Object(u["a"])(h,r,o,!1,null,null,null));a["a"]=b.exports},"3e12":function(t,a,e){t.exports=e.p+"img/logo_admin_navigasi.6a7c7dd4.png"},4360:function(t,a,e){"use strict";var r=e("2b0e"),o=e("2f62");r["a"].use(o["a"]),a["a"]=new o["a"].Store({state:{},mutations:{},actions:{},modules:{}})},4507:function(t,a,e){"use strict";e("e46c")},5527:function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a),function(t){e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),r=e("3dfd"),o=e("4360"),i=e("a18c"),s=e("bc3a"),n=e.n(s),d=e("1157"),c=e.n(d),l=(e("4989"),e("ab8b"),e("7400")),u=e.n(l),m=e("58ca"),p=e("d1d6"),g=e.n(p),f=e("50cf"),v=e("5527"),h=e.n(v),b=e("77ed"),_=e.n(b);a["a"].prototype.$http=n.a,t=c.a,window.$=t,a["a"].use(u.a),a["a"].use(g.a),a["a"].use(m["a"],{refreshOnceOnNavigation:!0}),a["a"].use(f["a"]),a["a"].use(h.a),a["a"].use(_.a),a["a"].config.productionTip=!1,new a["a"]({store:o["a"],router:i["a"],data:{loading:!1},render:function(t){return t(r["a"])}}).$mount("#app")}.call(this,e("1157"))},6035:function(t,a,e){t.exports=e.p+"img/default.542b39ab.jpg"},"6c17":function(t,a,e){t.exports=e.p+"img/default.51020dd8.jpeg"},7606:function(t,a,e){var r={"./broiler.jpeg":"8185","./brr0449.jpeg":"011a","./kampung.jpeg":"08ea","./merah.jpeg":"a992","./parting.jpeg":"240b","./pejantan.jpeg":"b01e"};function o(t){var a=i(t);return e(a)}function i(t){if(!e.o(r,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id="7606"},8185:function(t,a,e){t.exports=e.p+"img/broiler.499f39cd.jpeg"},9085:function(t,a,e){},a18c:function(t,a,e){"use strict";e("d3b7"),e("3ca3"),e("ddb0"),e("b0c0");var r=e("2b0e"),o=e("8c4f"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("div",{staticClass:"table-responsive overflow-hidden"},[e("div",{staticClass:"row d-flex"},t._l(t.databases,(function(a,r){return e("div",{key:r,staticClass:"col-md-3 card",staticStyle:{width:"18rem"}},[e("a",{staticClass:"text-decoration-none text-dark",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.getSessionId(a["id"])}}},[e("img",{staticClass:"card-img-top",style:"backgroundColor: #"+a["bgColor"],attrs:{src:a["logoUrl"],alt:"..."}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(a["alias"]))]),e("small",[t._v("Kadaluarsa: "+t._s(a["expired"]?"Ya":"Tidak"))]),e("p",{staticClass:"card-text"},[t._v(" Some quick example text to build on the card title and make up the bulk of the card's content. ")]),e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0)"}},[t._v("Buka Database")])])])])})),0)])])},s=[],n=(e("99af"),e("d81d"),{name:"Home",components:{},data:function(){return{databases:[]}},methods:{getUsers:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/db-lists"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(console.log(a["data"]["data"]["s"]),t.databases=a["data"]["data"]["d"])})).catch((function(a){console.log(a.response),t.$alertify.error(a.response["data"]["data"]["d"])}))},getSessionId:function(t){var a=this;return this.$http.post("".concat("https://api-pos.beliayam.com/admin","/set-database-session/").concat(t),{},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){t["data"]["data"]["s"]&&t["data"]["data"]["d"].map((function(t){a.$alertify.success(t)})),a.$router.push({path:"/database/user-lists"})})).catch((function(t){a.$alertify.error(t.response["data"]["data"]["d"])}))}},filters:{isActive:function(t){return 1===t||!0===t?"Aktif":"Non-Aktif"}},created:function(){this.getUsers()}}),d=n,c=e("2877"),l=Object(c["a"])(d,i,s,!1,null,null,null),u=l.exports,m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"m-auto "},[t._m(1),e("router-link",{staticClass:"btn btn-warning mr-1",attrs:{to:{name:"UserAdd"},id:"btn-update-mass-price","data-toggle":"tooltip","data-placement":"bottom",title:"Update Masal Seluruh Harga Produk"}},[e("i",{staticClass:"fad fa-usd-circle"}),t._v(" tambah mitra ")]),e("router-link",{staticClass:"text-decoration-none btn btn-dark mr-1",attrs:{to:{name:"category"},id:"btn-update-mass-price","data-toggle":"tooltip","data-placement":"bottom",title:"Update Masal Seluruh Harga Produk"}},[e("i",{staticClass:"fad fa-box-usd"}),t._v(" Pengaturan Produk ")]),e("router-link",{staticClass:"text-decoration-none btn btn-danger mr-1",attrs:{to:{name:"category"},id:"btn-update-mass-price","data-toggle":"tooltip","data-placement":"bottom",title:"Stok Yang Segera Harus Di Update"}},[e("i",{staticClass:"fad fa-box-usd"}),t._v(" Stok Kurang (2) ")])],1)])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-borderless table-hover"},[t._m(2),e("tbody",t._l(t.users,(function(a){return e("tr",{key:a.id,staticClass:"text-nowrap"},[e("td",[t._v(" "+t._s(a["id"])+" ")]),e("td",[t._v(" "+t._s(a["name"])+" ")]),e("td",[t._v(" "+t._s(a["branch_name"])+" ")]),e("td",[t._v(" "+t._s(a["warehouse_name"])+" ")]),e("td",[e("div",{staticClass:"custom-control custom-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["is_active"],expression:"user['is_active']"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"switchActive-"+a["id"]},domProps:{checked:Array.isArray(a["is_active"])?t._i(a["is_active"],null)>-1:a["is_active"]},on:{click:function(e){return t.updateStatusUser(a["id"])},change:function(e){var r=a["is_active"],o=e.target,i=!!o.checked;if(Array.isArray(r)){var s=null,n=t._i(r,s);o.checked?n<0&&t.$set(a,"is_active",r.concat([s])):n>-1&&t.$set(a,"is_active",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(a,"is_active",i)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"switchActive-"+a["id"]}},[t._v(t._s(t._f("isActive")(a["is_active"])))])])]),e("td",[e("div",{staticClass:"custom-control custom-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["is_admin"],expression:"user['is_admin']"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"switch-"+a["id"]},domProps:{checked:Array.isArray(a["is_admin"])?t._i(a["is_admin"],null)>-1:a["is_admin"]},on:{click:function(e){return t.updateStatusAdmin(a["id"])},change:function(e){var r=a["is_admin"],o=e.target,i=!!o.checked;if(Array.isArray(r)){var s=null,n=t._i(r,s);o.checked?n<0&&t.$set(a,"is_admin",r.concat([s])):n>-1&&t.$set(a,"is_admin",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(a,"is_admin",i)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"switch-"+a["id"]}},[t._v(t._s(t._f("isActive")(a["is_admin"])))])])]),e("td",[e("button",{staticClass:"btn btn-outline-warning",attrs:{type:"button"},on:{click:function(e){return t.editUser(a["id"])}}},[t._v(" ubah ")])])])})),0)])])])},p=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("header",{staticClass:"text-center"},[e("h3",[t._v("Konfigurasi Admin")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn btn-info mr-1",attrs:{id:"btn-update-mass-price","data-toggle":"tooltip","data-placement":"bottom",title:"Update Masal Seluruh Harga Produk",disabled:""}},[e("i",{staticClass:"fad fa-usd-circle"}),t._v(" Mass Update Harga "),e("span",{staticClass:"badge badge-danger"},[t._v("segera")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"text-nowrap"},[e("th",[t._v("ID")]),e("th",[t._v("Nama")]),e("th",[t._v("Cabang")]),e("th",[t._v("Gudang")]),e("th",[t._v("Status Aktif")]),e("th",[t._v("Admin")]),e("th",[t._v("Ubah Detail")])])])}],g=(e("4de4"),{name:"Users",components:{},data:function(){return{users:[]}},methods:{sync:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/sync"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){console.log(t)})).catch((function(a){console.log(a.response),t.$alertify.error(a.response["data"]["message"])}))},getUsers:function(){var t=this;return this.$http.get("".concat("https://api-pos.beliayam.com/admin","/users"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.users=a["data"]["data"])})).catch((function(a){console.log(a.response),t.$alertify.error(a.response["data"]["message"])}))},editUser:function(t){this.$router.push({path:"/user/edit/".concat(t)})},updateStatusUser:function(t){var a=this,e=this.users.filter((function(a){return a["id"]===t}));return this.$http.put("".concat("https://api-pos.beliayam.com/admin","/users/active"),{user_id:t,is_active:!e[0]["is_active"],is_admin:!e[0]["is_admin"]},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){console.log(t),t["data"]["success"]&&a.$alertify.success(t["data"]["message"])})).catch((function(t){console.log(t.response),a.$alertify.error(t.response["data"]["message"])}))},updateStatusAdmin:function(t){var a=this,e=this.users.filter((function(a){return a["id"]===t}));return this.$http.put("".concat("https://api-pos.beliayam.com/admin","/users/admin"),{user_id:t,is_admin:!e[0]["is_admin"]},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){console.log(t),t["data"]["success"]&&a.$alertify.success(t["data"]["message"])})).catch((function(t){console.log(t.response),a.$alertify.error(t.response["data"]["message"])}))}},filters:{isActive:function(t){return 1===t||!0===t?"Aktif":"Non-Aktif"}},created:function(){this.getUsers()}}),f=g,v=(e("4507"),Object(c["a"])(f,m,p,!1,null,"8a6cb5b0",null)),h=v.exports,b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.products?e("header",{staticClass:"card-header header-category"},[e("h2",{staticClass:"headline"},[t._v("Pengaturan Produk")]),t._m(0)]):t._e(),e("div",{staticClass:"row mt-5"},t._l(t.products,(function(a,r){return e("div",{key:r,staticClass:"col-md-3 col-sm-4 resource-container"},[e("div",{staticClass:"card card-container"},[e("div",{staticClass:"text-center"},[e("img",{staticClass:"card-img-top",attrs:{src:t.getImage(a["no"]),alt:"Gambar Ayam"},on:{click:function(e){return t.openModalProduct(a["id"])}}}),e("div",{staticClass:"p-2 justify-content-around"},[e("span",{staticClass:"m-1 toolbar-item",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Ubah Produk"},on:{click:function(e){return t.openModalProduct(a["id"])}}},[e("i",{staticClass:"fad fa-edit"})]),e("span",{staticClass:"m-1 text-danger toolbar-item",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Hapus Produk"},on:{click:function(e){return t.openModalRemoveProduct(a["id"])}}},[e("i",{staticClass:"fad fa-trash"})])])]),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title card-title-product"},[t._v(t._s(a["name"]))]),e("span"),e("p",[t._v("Harga dasar")]),e("h6",{staticClass:"price",on:{dblclick:function(e){return t.editPriceLabel(e,a["id"])}}},[t._v(" "+t._s(t._f("formatMoney")(a["basic_price"]))+" ")]),e("p",[t._v("Komisi Pusat")]),e("h6",{staticClass:"price",on:{dblclick:function(e){return t.editPriceLabel(e,a["id"])}}},[t._v(" "+t._s(t._f("formatMoney")(a["centralCommission"]))+" ")]),e("p",[t._v("Komisi Mitra")]),e("h6",{staticClass:"price",on:{dblclick:function(e){return t.editPriceLabel(e,a["id"])}}},[t._v(" "+t._s(t._f("formatMoney")(a["partnerCommission"]))+" ")]),e("p",[t._v("Total Harga")]),e("h6",{staticClass:"price",on:{dblclick:function(e){return t.editPriceLabel(e,a["id"])}}},[t._v(" "+t._s(t._f("formatMoney")(a["grand_price"]))+" ")])])])])})),0),e("div",{staticClass:"modal fade",attrs:{id:"modal-add-product",tabindex:"-1","aria-labelledby":"modal-add-productLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[t._m(1),e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("UPC / Barcode")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["code"]["data"],expression:"addProduct['code']['data']"}],staticClass:"form-control",class:{"is-invalid":t.addProduct["code"]["error"]},attrs:{type:"text",id:"code",placeholder:"cth: 0040001"},domProps:{value:t.addProduct["code"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.addProduct["code"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.addProduct["code"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("nama")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["name"]["data"],expression:"addProduct['name']['data']"}],staticClass:"form-control",class:{"is-invalid":t.addProduct["name"]["error"]},attrs:{type:"text",id:"name",placeholder:"Paha Utuh 500 gr"},domProps:{value:t.addProduct["name"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.addProduct["name"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.addProduct["name"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Tipe")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["type"]["data"],expression:"addProduct['type']['data']"}],staticClass:"form-control",class:{"is-invalid":t.addProduct["type"]["error"]},attrs:{name:"type",id:"type"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.addProduct["type"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Tipe Barang")]),t._l(t.addProduct["type"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.addProduct["type"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"category"}},[t._v("Kategori")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["category"]["data"],expression:"addProduct['category']['data']"}],staticClass:"form-control",class:{"is-invalid":t.addProduct["category"]["error"]},attrs:{name:"category",id:"category"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.addProduct["category"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Kategori Barang")]),t._l(t.addProduct["category"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a["id"]}},[t._v(" "+t._s(a["name"])+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.addProduct["category"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Unit")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.addProduct["unit"]["data"],expression:"addProduct['unit']['data']"}],staticClass:"form-control",class:{"is-invalid":t.addProduct["unit"]["error"]},attrs:{name:"unit",id:"unit"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.addProduct["unit"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Unit Barang")]),t._l(t.addProduct["unit"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a["id"]}},[t._v(" "+t._s(a["name"])+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.addProduct["unit"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("Foto / Gambar")]),e("input",{ref:"image",staticClass:"form-control",attrs:{type:"file",id:"image"},on:{change:t.handleFileUpload}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveProduct}},[t._v(" simpan ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-product",tabindex:"-1","aria-labelledby":"modal-productLabel","aria-hidden":"true"}},[t.selectedProduct?e("div",{staticClass:"modal-dialog"},[e("header",{staticClass:"bg-info text-center p-2"},[e("h2",{staticClass:"text-white"},[t._v("Produk "+t._s(t.selectedProduct["name"]))])]),e("div",{staticClass:"modal-content"},[e("nav",[e("div",{staticClass:"nav nav-tabs",attrs:{id:"nav-tab",role:"tablist"}},[e("a",{staticClass:"nav-link active",attrs:{id:"nav-detail-tab","data-toggle":"tab",href:"#nav-detail",role:"tab","aria-controls":"nav-detail","aria-selected":"true"}},[t._v("Detail")]),e("a",{staticClass:"nav-link",attrs:{id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},on:{click:t.openEditProduct}},[t._v("Edit")]),e("a",{staticClass:"nav-link",attrs:{id:"nav-stok-tab","data-toggle":"tab",href:"#nav-stok",role:"tab","aria-controls":"nav-stok","aria-selected":"false"}},[t._v("Stok")])])]),e("div",{staticClass:"tab-content",attrs:{id:"nav-tabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"nav-detail",role:"tabpanel","aria-labelledby":"nav-detail-tab"}},[e("div",{staticClass:"container-fluid"},[e("img",{staticClass:"img-fluid rounded w-100",attrs:{src:t.getImage(t.selectedProduct["no"]),alt:"Gambar Ayam"}}),e("h3",[t._v(t._s(t.selectedProduct["name"]))]),e("small",{staticClass:"badge badge-pill badge-success"},[t._v(t._s(t.selectedProduct["type"]))]),e("p",[t._v(t._s(t.selectedProduct["no"]))]),e("span",{staticClass:"badge badge-pill badge-secondary text-uppercase"},[t._v(t._s(t.selectedProduct["unit_name"]))]),e("div",[e("h4",[e("b",[t._v("Harga Dasar")]),t._v(" "+t._s(t._f("formatMoney")(t.selectedProduct["basic_price"]))+" ")]),e("h4",[e("b",[t._v("Komisi Pusat")]),t._v(" "+t._s(t._f("formatMoney")(t.selectedProduct["centralCommission"]))+" ")]),e("h4",[e("b",[t._v("Komisi Mitra")]),t._v(" "+t._s(t._f("formatMoney")(t.selectedProduct["partnerCommission"]))+" ")]),e("h4",[e("b",[t._v("Harga Jual")]),t._v(" "+t._s(t._f("formatMoney")(t.selectedProduct["grand_price"]))+" ")])])])]),e("div",{staticClass:"tab-pane fade",attrs:{id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("UPC / Barcode")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["code"]["data"],expression:"editProduct['code']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["code"]["error"]},attrs:{type:"text",id:"code",placeholder:"cth: 0040001",disabled:"disabled"},domProps:{value:t.editProduct["code"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.editProduct["code"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["code"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("nama")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["name"]["data"],expression:"editProduct['name']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["name"]["error"]},attrs:{type:"text",id:"name",placeholder:"Paha Utuh 500 gr"},domProps:{value:t.editProduct["name"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.editProduct["name"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["name"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Tipe")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["type"]["data"],expression:"editProduct['type']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["type"]["error"]},attrs:{name:"type",id:"type"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.editProduct["type"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Tipe Barang")]),t._l(t.editProduct["type"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["type"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"category"}},[t._v("Kategori")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["category"]["data"],expression:"editProduct['category']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["category"]["error"]},attrs:{name:"category",id:"category"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.editProduct["category"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(" Kategori Barang ")]),t._l(t.editProduct["category"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a["id"]}},[t._v(" "+t._s(a["name"])+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["type"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Unit")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["unit"]["data"],expression:"editProduct['unit']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["unit"]["error"]},attrs:{name:"unit",id:"unit"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.editProduct["unit"],"data",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Unit Barang")]),t._l(t.editProduct["unit"]["additionalData"],(function(a,r){return e("option",{key:r,domProps:{value:a["id"]}},[t._v(" "+t._s(a["name"])+" ")])}))],2),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["type"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("harga dasar")]),e("div",{staticClass:"w-100 d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["price"]["data"],expression:"editProduct['price']['data']"}],staticClass:"form-control sync-price",class:{"is-invalid":t.editProduct["price"]["error"]},attrs:{type:"text",id:"price",placeholder:"20.000,00","data-toggle":"tooltip","data-placement":"bottom",title:"Sinkron Harga Dasar Dengan Accurate",readonly:""},domProps:{value:t.editProduct["price"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.editProduct["price"],"data",a.target.value)}}}),e("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Sinkron Harga Dasar Dengan Accurate"},on:{click:function(a){return t.syncPrice(t.selectedProduct["accurate_product_id"])}}},[e("i",{staticClass:"fad fa-sync-alt"})])]),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["price"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"centralCommission"}},[t._v("komisi pusat")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["centralCommission"]["data"],expression:"editProduct['centralCommission']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["centralCommission"]["error"]},attrs:{type:"text",id:"centralCommission",placeholder:"Rp 1.000,00"},domProps:{value:t.editProduct["centralCommission"]["data"]},on:{keyup:t.calculatePrice,input:function(a){a.target.composing||t.$set(t.editProduct["centralCommission"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["centralCommission"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"partnerCommission"}},[t._v("komisi mitra")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.editProduct["partnerCommission"]["data"],expression:"\n                        editProduct['partnerCommission']['data']\n                      ",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.editProduct["partnerCommission"]["error"]},attrs:{type:"text",id:"partnerCommission",placeholder:"0000"},domProps:{value:t.editProduct["partnerCommission"]["data"]},on:{keyup:t.calculatePrice,input:function(a){a.target.composing||t.$set(t.editProduct["partnerCommission"],"data",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["partnerCommission"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"grand_price"}},[t._v("harga jual")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProduct["grand_price"]["data"],expression:"editProduct['grand_price']['data']"}],staticClass:"form-control",class:{"is-invalid":t.editProduct["grand_price"]["error"]},attrs:{type:"text",id:"grand_price",placeholder:"0000"},domProps:{value:t.editProduct["grand_price"]["data"]},on:{input:function(a){a.target.composing||t.$set(t.editProduct["grand_price"],"data",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.editProduct["grand_price"]["errorMessage"])+" ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("Foto / Gambar")]),e("input",{ref:"imageUpdate",staticClass:"form-control",attrs:{type:"file",id:"image"},on:{change:t.handleFileUpdate}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v(" simpan ")])])])]),e("div",{staticClass:"tab-pane fade p-3",attrs:{id:"nav-stok",role:"tabpanel","aria-labelledby":"nav-stok-tab"}},[t._l(t.selectedProduct["product_partner"],(function(a,r){return e("div",{key:r,staticClass:"form-inline"},[e("div",{staticClass:"form-check mb-2 mr-sm-2 w-25 justify-content-start"},[e("label",{staticClass:"form-check-label text-left",attrs:{for:"inlineFormCheck"}},[t._v(" "+t._s(a["branch_name"])+" ")])]),e("div",{staticClass:"input-group mb-2 mr-sm-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["stock"],expression:"stock['stock']"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:a["stock"]},on:{input:function(e){e.target.composing||t.$set(a,"stock",e.target.value)}}})]),e("button",{staticClass:"btn btn-primary mb-2",attrs:{type:"button","data-toggle":"tooltip","data-placement":"top",title:"Sinkron Dengan Accurate"},on:{click:function(e){return t.syncProductStock(t.selectedProduct["no"],a,r)}}},[e("i",{staticClass:"fad fa-sync-alt"})])])})),e("button",{staticClass:"btn btn-primary mb-2 w-100",attrs:{type:"button"},on:{click:t.updateStock}},[e("i",{staticClass:"fad fa-sync-alt"}),t._v(" update ")])],2)]),t._m(2)])]):t._e()]),e("div",{staticClass:"modal fade",attrs:{id:"modal-remove-product",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(3),t._m(4),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.removeProduct}},[t._v(" hapus ")])])])])]),e("div",{staticClass:"button-add-product",on:{click:t.openModalAddProduct}},[t._m(5)])])},_=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn btn-success rounded-circle",attrs:{id:"btn-sync","data-toggle":"tooltip","data-placement":"bottom",title:"Sinkron Dengan Accurate",disabled:""}},[e("i",{staticClass:"fad fa-sync-alt"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",{staticClass:"bg-info text-center p-2"},[e("h2",{staticClass:"text-white"},[t._v("Produk Baru")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer justify-content-center"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" tutup ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Hapus Produk")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-body"},[e("p",[t._v("Apakah Anda Yakin Ingin Menghapus Produk ?")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn btn-info rounded-circle"},[e("i",{staticClass:"fad fa-user-plus"})])}],y=e("1157"),C=e.n(y),P={name:"Item",components:{},data:function(){return{products:[],addProduct:{code:{data:"",error:!1,errorMessage:""},name:{data:"",error:!1,errorMessage:""},type:{data:"",error:!1,errorMessage:"",additionalData:["GROUP","INVENTORY","NON_INVENTORY","PRODUCTION_COST","SERVICE","VARIANT"]},category:{data:"",error:!1,errorMessage:"",additionalData:[]},unit:{data:"",error:!1,errorMessage:"",additionalData:[]},price:{data:0,error:!1,errorMessage:""},centralCommission:{data:0,error:!1,errorMessage:""},partnerCommission:{data:0,error:!1,errorMessage:""},grand_price:{data:0,error:!1,errorMessage:""},image:{data:"",error:!1,errorMessage:""}},editProduct:{code:{data:"",error:!1,errorMessage:""},name:{data:"",error:!1,errorMessage:""},type:{data:"",error:!1,errorMessage:"",additionalData:["GROUP","INVENTORY","NON_INVENTORY","PRODUCTION_COST","SERVICE","VARIANT"]},category:{data:"",error:!1,errorMessage:"",additionalData:[]},unit:{data:"",error:!1,errorMessage:"",additionalData:[]},price:{data:0,error:!1,errorMessage:""},centralCommission:{data:0,error:!1,errorMessage:""},partnerCommission:{data:0,error:!1,errorMessage:""},grand_price:{data:0,error:!1,errorMessage:""},image:{data:"",error:!1,errorMessage:""}},selectedProduct:{},userStocks:[],selectedRemove:0}},methods:{updateProduct:function(){var t=this;this.$root.loading=!0;var a=new FormData;a.append("code",this.editProduct["code"]["data"]),a.append("name",this.editProduct["name"]["data"]),a.append("type",this.editProduct["type"]["data"]),a.append("category",this.editProduct["category"]["data"]),a.append("unit",this.editProduct["unit"]["data"]),a.append("price",this.editProduct["price"]["data"]);var e=this.editProduct["category"]["additionalData"].filter((function(a){return a.id===t.editProduct["category"]["data"]}))[0]["name"];return a.append("category_name",e),a.append("centralCommission",this.editProduct["centralCommission"]["data"]),a.append("partnerCommission",this.editProduct["partnerCommission"]["data"]),a.append("grand_price",this.editProduct["grand_price"]["data"]),a.append("image",this.editProduct["image"]["data"]),this.$http.post("".concat("https://api-pos.beliayam.com/admin","/items/").concat(this.selectedProduct["id"]),a,{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-Type":"multipart/form-data"}}).then((function(a){a["data"]["success"]&&(t.$alertify.success(a["data"]["message"]),t.getProducts(),t.addProduct={code:{data:"",error:!1,errorMessage:""},name:{data:"",error:!1,errorMessage:""},type:{data:"",error:!1,errorMessage:"",additionalData:["GROUP","INVENTORY","NON_INVENTORY","PRODUCTION_COST","SERVICE","VARIANT"]},unit:{data:"",error:!1,errorMessage:""},category:{data:"",error:!1,errorMessage:""},price:{data:0,error:!1,errorMessage:""},centralCommission:{data:0,error:!1,errorMessage:""},partnerCommission:{data:0,error:!1,errorMessage:""},grand_price:{data:0,error:!1,errorMessage:""},image:{data:"",error:!1,errorMessage:""}},C()("#modal-product").modal("hide"),t.$root.loading=!1)})).catch((function(a){a.response.data.success&&t.$alertify.error(a.response["data"]["message"])}))},saveProduct:function(){var t=this;this.$root.loading=!0;var a=new FormData;a.append("code",this.addProduct["code"]["data"]),a.append("name",this.addProduct["name"]["data"]),a.append("type",this.addProduct["type"]["data"]),a.append("category",this.addProduct["category"]["data"]),a.append("unit",this.addProduct["unit"]["data"]);var e=this.addProduct["category"]["additionalData"].filter((function(a){return a.id===t.addProduct["category"]["data"]}))[0]["name"];return a.append("category_name",e),a.append("image",this.addProduct["image"]["data"]),this.$http.post("".concat("https://api-pos.beliayam.com/admin","/items"),a,{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-Type":"multipart/form-data"}}).then((function(a){a["data"]["success"]&&(t.$alertify.success(a["data"]["message"]),t.getProducts(),t.addProduct={code:{data:"",error:!1,errorMessage:""},name:{data:"",error:!1,errorMessage:""},type:{data:"",error:!1,errorMessage:"",additionalData:["GROUP","INVENTORY","NON_INVENTORY","PRODUCTION_COST","SERVICE","VARIANT"]},unit:{data:"",error:!1,errorMessage:"",additionalData:t.addProduct["unit"]["additionalData"]},category:{data:"",error:!1,errorMessage:"",additionalData:t.addProduct["category"]["additionalData"]},price:{data:0,error:!1,errorMessage:""},centralCommission:{data:0,error:!1,errorMessage:""},partnerCommission:{data:0,error:!1,errorMessage:""},grand_price:{data:0,error:!1,errorMessage:""},image:{data:"",error:!1,errorMessage:""}},C()("#modal-add-product").modal("hide"),t.$root.loading=!1)})).catch((function(t){console.log(t.response)}))},openEditProduct:function(){this.editProduct["code"]["data"]=this.selectedProduct.no,this.editProduct["name"]["data"]=this.selectedProduct.name,this.editProduct["type"]["data"]=this.selectedProduct.type,this.editProduct["unit"]["data"]=this.selectedProduct.unit_id,this.editProduct["category"]["data"]=this.selectedProduct.category_id,this.editProduct["price"]["data"]=this.selectedProduct.basic_price,this.editProduct["centralCommission"]["data"]=this.selectedProduct.centralCommission,this.editProduct["partnerCommission"]["data"]=this.selectedProduct.partnerCommission,this.editProduct["grand_price"]["data"]=this.selectedProduct.grand_price,this.editProduct["image"]["data"]=this.selectedProduct.image},openModalProduct:function(t){this.$root.loading=!0,this.selectedProduct=this.products.filter((function(a,e){if(a.id===t)return a["index"]=e,a}))[0],C()("#modal-product").modal("show"),C()("#nav-detail-tab").tab("show"),C()("#nav-detail").tab("show"),this.$root.loading=!1},openModalRemoveProduct:function(t){this.selectedRemove=t,C()("#modal-remove-product").modal("show")},removeProduct:function(){var t=this;return this.$root.loading=!0,this.$http.delete("".concat("https://api-pos.beliayam.com/admin","/items/").concat(this.selectedRemove),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-Type":"multipart/form-data"}}).then((function(a){if(a["data"]["success"])return t.$root.loading=!1,t.getProducts(),C()("#modal-remove-product").modal("hide"),void t.$alertify.success("Berhasil Menghapus");t.$root.loading=!1})).catch((function(a){a.response["data"]["message"]&&(t.addProduct["code"]["error"]=!0,t.addProduct["code"]["errorMessage"]=a.response["data"]["message"]),t.$root.loading=!1}))},editPriceLabel:function(t){var a=t.target||t.srcElement;a.contentEditable=!0},checkNoProductExist:function(){var t=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/items/check/").concat(this.addProduct["code"]["data"]),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-Type":"multipart/form-data"}}).then((function(a){a["data"]["data"]||(t.addProduct["code"]["error"]=!1,t.addProduct["code"]["errorMessage"]="",t.$root.loading=!1)})).catch((function(a){a.response["data"]["message"]&&(t.addProduct["code"]["error"]=!0,t.addProduct["code"]["errorMessage"]=a.response["data"]["message"])}))},getImage:function(t){try{var a=this.products.filter((function(a){return a.no===t}))[0],r=JSON.parse(a["image"]);return"https://api-pos.beliayam.com"+r["thumbURL"]}catch(i){var o=e("6c17");return o}},getProducts:function(){var t=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/category/").concat(this.$route.params.categoryId,"/products"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-Type":"multipart/form-data"}}).then((function(a){a["data"]["success"]&&(t.products=a["data"]["data"],t.$root.loading=!1)})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))},handleFileUpload:function(){this.addProduct["image"]["data"]=this.$refs.image.files[0]},handleFileUpdate:function(){this.editProduct["image"]["data"]=this.$refs.imageUpdate.files[0]},syncProductStock:function(t,a,e){var r=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/sync/stock/").concat(t,"/user/").concat(a["user_id"]),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){t["data"]["data"]["s"]?(r.selectedProduct["product_partner"][e]["stock"]=Math.floor(t["data"]["data"]["d"]["availableStock"]),r.$alertify.success("Berhasil sinkron"),r.$root.loading=!1):r.$alertify.error(t["data"]["data"]["d"])})).catch((function(t){r.$alertify.error(t.response["data"]["message"])}))},calculatePrice:function(){this.editProduct["grand_price"]["data"]=parseInt(this.editProduct["price"]["data"])+parseInt(this.editProduct["centralCommission"]["data"])+this.editProduct["partnerCommission"]["data"]},syncPrice:function(t){var a=this;return this.$root.loading=!0,""===t||void 0===t?(this.$alertify.warning("Harap isi UPC / Barcode"),void(this.$root.loading=!1)):this.$http.get("".concat("https://api-pos.beliayam.com/admin","/sync/").concat(t,"/price"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(t){if(t["data"]["success"]){if(t["data"]["data"]["s"])return a.selectedProduct["basic_price"]=parseInt(t["data"]["data"]["d"]["balanceUnitCost"]),a.editProduct["price"]["data"]=parseInt(t["data"]["data"]["d"]["balanceUnitCost"]),a.$alertify.success("Berhasil sinkron harga"),a.$root.loading=!1,void a.calculatePrice();t["data"]["data"]["d"].map((function(t){a.$alertify.warning(t),a.$root.loading=!1}))}})).catch((function(t){a.$alertify.error(t.response["data"]["message"])}))},updateStock:function(){var t=this;return this.$root.loading=!0,this.$http.post("".concat("https://api-pos.beliayam.com/admin","/items/stock/update"),{product:this.selectedProduct},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){a["data"]["success"]&&(t.$alertify.success(a["data"]["message"]),t.$root.loading=!1)})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))},openModalAddProduct:function(){this.addProduct["price"]["data"]=0,C()("#modal-add-product").modal("show")},getListUnit:function(){var t=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/items/list-unit"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){if(a["data"]["success"]){var e=a["data"]["data"]["d"];t.addProduct["unit"]["additionalData"]=e,t.editProduct["unit"]["additionalData"]=e,t.$root.loading=!1}})).catch((function(a){t.$alertify.error(a.response["data"]["data"]["d"]),t.$root.loading=!1}))},getCategories:function(){var t=this;return this.$root.loading=!0,this.$http.get("".concat("https://api-pos.beliayam.com/admin","/items/categories"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin")}}).then((function(a){if(a["data"]["success"]){var e=a["data"]["data"];t.addProduct["category"]["additionalData"]=e,t.editProduct["category"]["additionalData"]=e,t.$root.loading=!1}})).catch((function(a){t.$alertify.error(a.response["data"]["message"]),t.$root.loading=!1}))}},mounted:function(){C()("#btn-update-mass-price").tooltip({boundary:"window"}),C()("#btn-sync").tooltip({boundary:"window"}),C()("#btn-add-product").tooltip({boundary:"window"})},filters:{formatMoney:function(t){var a=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"});return a.format(t)}},created:function(){this.getProducts(),this.getListUnit(),this.getCategories()}},k=P,$=(e("d965"),Object(c["a"])(k,b,_,!1,null,"0f8bcba0",null)),w=$.exports,x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"animate__animated animate__fadeInRight"},[t._m(0),this.$root.loading?e("div",{staticClass:"row mt-5"},t._l(8,(function(t,a){return e("div",{key:a,staticClass:"col-md-3 col-sm-4"},[e("div",{staticClass:"resource"},[e("VueContentLoading",{staticClass:"shrimmer-container",attrs:{width:210,height:190}},[e("rect",{attrs:{width:"210",height:"190"}}),e("rect",{staticClass:"p-2",attrs:{width:"210",height:"50"}})]),e("VueContentLoading",{staticClass:"shrimmer-container p-2",attrs:{width:210,height:50}},[e("rect",{staticClass:"p-2",attrs:{width:"210",height:"50"}})])],1)])})),0):e("div",{staticClass:"row mt-5"},t._l(t.categories,(function(a,r){return e("div",{key:r,staticClass:"col-md-3 col-sm-4"},[e("div",{staticClass:"resource"},[e("div",{staticClass:"no-gutters"},[e("div",{staticClass:"w-100"},[e("router-link",{attrs:{to:{name:"products",params:{categoryId:a["id"]}}}},[e("img",{staticClass:"img-fluid rounded w-100",attrs:{src:t.getImage(a["slug"]),alt:a["name"]}})])],1),e("div",{staticClass:"w-100"},[e("router-link",{staticClass:"text-decoration-none text-dark",attrs:{to:{name:"products",params:{categoryId:a["id"]}}}},[e("h5",{staticClass:"p-2 category-title nowrap"},[t._v(" "+t._s(a["name"])+" ")])])],1)])])])})),0)])},A=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",{staticClass:"card-header header-category"},[e("h2",[t._v("Kategori Ayam")])])}],M=e("bc3a"),I=e.n(M),S=e("68ee2"),j={name:"category",components:{VueContentLoading:S["VueContentLoading"]},data:function(){return{categories:[],loadingImageCategory:!1}},methods:{getImage:function(t){this.loadingImageCategory=!0;try{var a=e("7606")("./".concat(t,".jpeg"));return this.loadingImageCategory=!1,a}catch(o){var r=e("6035");return this.loadingImageCategory=!1,r}},getCategory:function(){var t=this;this.$root.loading=!0,this.$root.loading&&I.a.get("".concat("https://api-pos.beliayam.com/admin","/categories"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt-admin"),"Content-type":"application/json"}}).then((function(a){t.categories=a.data,a.data&&(t.result=a.data.filter((function(t){switch(t["name"]){case"PARTING":t["slug"]="parting";break;case"Ayam Broiler":t["slug"]="broiler";break;case"Ayam Kampung":t["slug"]="kampung";break;case"Ayam Pejantan":t["slug"]="pejantan";break;default:t["slug"]="merah";break}})),t.$root.loading=!t.$root.loading)})).catch((function(a){t.$alertify.error(a.response["data"]["message"])}))}},mounted:function(){this.getCategory()}},N=j,U=(e("3dcb"),Object(c["a"])(N,x,A,!1,null,"2455ec28",null)),O=U.exports;r["a"].use(o["a"]);var E=[{path:"/",name:"Home",component:u,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:function(){return e.e("about").then(e.bind(null,"bd01"))}},{path:"/db/:id",name:"About",component:function(){return e.e("about").then(e.bind(null,"f820"))},meta:{requiresAuth:!0}},{path:"/database/user-lists",name:"databaseUser",component:h,meta:{requiresAuth:!0}},{path:"/user/add",name:"UserAdd",component:function(){return e.e("about").then(e.bind(null,"12dd"))},meta:{requiresAuth:!0}},{path:"/user/edit/:id",name:"UserUpdate",component:function(){return e.e("about").then(e.bind(null,"a884"))},meta:{requiresAuth:!0}},{path:"/kategori",name:"category",component:O,meta:{requiresAuth:!0}},{path:"/produk/:categoryId",name:"products",component:w,meta:{requiresAuth:!0}}],D=new o["a"]({mode:"history",routes:E});D.beforeEach((function(t,a,e){if("notFound"===t.name)return e();t.meta.requiresAuth?localStorage.getItem("jwt-admin")?e():e({path:"/login",params:{nextUrl:t.fullPath}}):localStorage.getItem("jwt-admin")?e({path:"/",params:{nextUrl:t.fullPath}}):e()}));a["a"]=D},a992:function(t,a,e){t.exports=e.p+"img/merah.47d27927.jpeg"},b01e:function(t,a,e){t.exports=e.p+"img/pejantan.832d97c1.jpeg"},c88e:function(t,a,e){},cf05:function(t,a,e){t.exports=e.p+"img/logo.85401979.png"},d965:function(t,a,e){"use strict";e("c88e")},e46c:function(t,a,e){},f0a3:function(t,a,e){"use strict";e("fed6")},f4af:function(t,a,e){},fed6:function(t,a,e){}});
//# sourceMappingURL=app.3584902b.js.map